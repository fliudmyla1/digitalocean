import{_ as V}from"./staricon.0523acfd.js";import{m as C}from"./marked.esm.c06bdf4e.js";import{_ as M,r as T,o,c as l,a as t,g as a,t as d,h as c,q as y,F as h,d as u,W as b,e as g,f as w,p as x,w as D,v as N}from"./vendor.395bafa6.js";import{_ as A,a as O}from"./file-icon.2812097e.js";import{a as P,_ as k}from"./logo-icon.f0c5b91f.js";var S="/assets/voter-security.fdeabab1.png",f="/assets/security.4b5362e4.png",I="/assets/vote-able.143e2c28.png",R="/assets/vote-unable.c1f6cedb.png";const z={name:"ProposalDetail",data(){return{idx:this.$route.params.id,round:1,voters:[],totalVoters:[],result:[],totalVotes:0,showMore:!1,proposal:{creator:{},cid:"",votedCid:"",f_start_at:"",f_end_at:"",timezone:{},discussions:[""],result:[]},voteNowModal:!1,votable:!1,voteOptions:[],validation:{invalid:{},valid:{}},viewVoterMore:!1,voted:!1,deleteConfirm:"",deleteModal:!1}},computed:{markdownToHtml(){if(this.proposal.summary)return C.parse(this.proposal.summary.toString())}},created(){this.$store.getters.role==10?this.$router.push("/"):this.getProposalData()},mounted(){},methods:{trimmedAccountName(s){return s.length>12?s.slice(0,9)+"..."+s.slice(s.length-4,s.length):s},trimmedAccountAddress(s){if(!!s)return s.length>10?s.slice(0,5)+"..."+s.slice(s.length-5,s.length):s},trimmedVotingOption(s){return s.length>5?s.slice(0,5)+"...":s},trimmedBalance(s){return(s/1e3).toString()+"K"},trimmedVotersAddress(s){return s.slice(0,7)+"..."},trimmedProposalCid(s){return s.length>10?s.slice(0,8)+"...":s},trimmedAccountNameAndLowercase(s){let r=s.replace(/[, ]+/g,"").trim().toLowerCase();return r.length>12?r.slice(0,9)+"..."+r.slice(r.length-4,r.length):r},trimmedAnnounceTitle(s){return s.length>38?s.slice(0,40)+"...":s},trimmedAnnounceSummary(s){return s.length>334?s.slice(0,334)+"...":s},trimmedProposalDiscussion(s){if(!!s)return s.length>55?s.slice(0,55)+"...":s},getProgressWidth(s){let r=0;return(this.round=1)?this.proposal.result.map(p=>{r+=p.amount}):this.proposal.s_result.map(p=>{r+=p.amount}),parseInt(s.amount/r*100)+"%"},closeDeleteModal(){this.deleteModal=!1,this.deleteConfirm="",this.clearValidation("deleteConfirm")},closeModal(){this.voteNowModal=!1,this.voteOptions=[],this.clearValidation("voteOptions")},validateDeleteModal(){if(this.deleteConfirm!="confirm"){this.validation.invalid.deleteConfirm="Please fill out this input correctly.";return}api.deleteProposal({_id:this.proposal._id},s=>{s&&(this.deleteModal=!1,this.$toast.success("You deleted the proposal."),this.backToProposalList())},s=>{console.log(s)})},voterViewHandler(){this.proposal.shield||(this.viewVoterMore=!this.viewVoterMore,this.viewVoterMore?this.voters=this.totalVoters:this.voters=this.totalVoters.slice(0,7))},clearValidation:function(s){this.validation.valid[s]="",this.validation.invalid[s]=""},getDateAndTimeString(s){const r=["January","February","March","April","May","June","July","August","September","October","November","December"];let p=s.slice(0,4),v=s.slice(5,7);v=r[parseInt(v)-1];let e=s.slice(8,10),n=s.slice(11,13),m="AM";if(parseInt(n)>12){let _=parseInt(n)-12;_>10?n=_.toString():n="0"+_.string,m="PM"}let i=s.slice(14,16);return`${e} ${v}, ${p}, ${n}.${i} ${m}`},getTimeDifference(s,r){let p=new Date(s),e=new Date(r).getTime()-p.getTime(),n=parseInt(e/(1e3*3600*24)),m=parseInt((e-n*1e3*3600*24)/(1e3*3600)),i=parseInt((e-n*1e3*3600*24-m*1e3*3600)/(1e3*60));return`${n} days ${m} hours ${i} minutes`},backToProposalList(){this.$router.push(`/${this.proposal.slug}/proposal`)},async viewVoteNowModal(){const r=await(await tronWeb.contract().at(this.proposal.ctr_addr)).methods.balanceOf(window.tronWeb.defaultAddress.base58).call();let p=parseInt(r.toString());this.balance=p,p>this.proposal.threshold?this.votable=!0:this.votable=!1,this.voteNowModal=!0},setOption(s){this.proposal.type==1?this.voteOptions.includes(s)?this.voteOptions=this.voteOptions.filter(r=>r!=s):this.voteOptions.push(s):(this.voteOptions=[],this.voteOptions.push(s)),this.clearValidation("voteOptions")},validateVoteNow(){if(this.voteOptions.length>0)this.validation.valid.voteOptions="The voteOption is added.";else{this.validation.invalid.voteOptions="Please select your vote option.";return}let s=[];this.voteOptions.map(r=>{let p={};p.symbol=this.proposal.tk_symbol,p.option=r,p._addr=this.$store.getters._addr,p.balance=parseInt(this.balance/this.voteOptions.length),s.push(p)}),api.sendVote({_id:this.proposal._id,data:s},r=>{r.data.updated&&(this.$toast.success("You successfully voted"),this.voteNowModal=!1,this.getProposalData())},r=>{console.log(r)})},getProposalData(){api.getProposalData({_id:this.idx},s=>{this.proposal=s.data.proposal,console.log(this.proposal),this.proposal.s_start_at?this.round=2:this.round=1,this.proposal.whitelist?this.proposal.whitelist.includes(this.$store.getters._addr)||(this.voted=!0):this.round==1?(this.totalVoters=s.data.proposal.voters,this.proposal.voters.map(r=>{r._addr==this.$store.getters._addr&&(this.voted=!0)})):(this.totalVoters=s.data.proposal.s_voters,this.proposal.s_voters.map(r=>{r._addr==this.$store.getters._addr&&(this.voted=!0)})),this.viewVoterMore=!1,this.voters=this.totalVoters.slice(0,7)},s=>{console.log(s)})}}},B={class:"ms-5 ps-3 py-5 mb-5"},W={class:"row",style:{width:"100%"}},L={class:"col-md-7"},H=t("b",null,"\u2190 Back",-1),j=[H],F=t("img",{src:O,style:{height:"22px"}},null,-1),K=[F],U={class:"px-4 mt-5"},q={class:"block-container-announcement-detail"},E={class:"header mt-3"},J={class:"fw-bolder text-dark fs-2"},Y={key:0,style:{height:"35px"},class:"mb-1",src:V},Q={class:"fw-bolder mt-2"},G={key:0,class:"status-active ms-2"},X={key:1,class:"status-complete ms-2"},Z={key:2,class:"status-complete ms-2"},$=["innerHTML"],tt={class:"text-center"},et={key:0},st={key:1},ot={class:"my-2"},lt=t("p",{class:"fs-5 fw-bolder text-dark"},"Discussions",-1),it={class:"file-details mb-2"},rt={class:"fw-bolder"},nt={class:"mt-4"},dt=t("p",{class:"fs-5 fw-bolder text-dark"},"Attachments",-1),at=t("img",{src:A,style:{height:"24px"}},null,-1),ct=["href"],pt={class:"mt-4"},_t=t("p",{class:"fs-5 fw-bolder text-dark"},"Voting Option",-1),ht={class:"file-details mb-2"},mt={class:"fw-bolder"},ut={class:"mt-4"},vt=t("p",{class:"fs-5 fw-bolder text-dark"},"Voters",-1),yt={style:{"border-radius":"7px",border:"1px solid #959595"}},bt={key:0,class:"text-center py-2",style:{"border-bottom":"1px solid #D5D5D5"}},ft=t("img",{src:S,style:{height:"200px"}},null,-1),gt=[ft],wt={class:"ps-4 fw-bolder voter-container"},xt=t("img",{src:P,style:{height:"20px","border-radius":"50%"}},null,-1),kt={class:"mt-3 ps-2"},Vt={class:"mt-3 ps-5"},Ct={class:"mt-3 me-2",style:{"margin-left":"auto"}},Mt={key:0,style:{color:"#959595"}},Tt={key:1,style:{color:"#959595"}},Dt={class:"col-md-5 pt-5 pe-5"},Nt={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},At=t("p",{class:"fw-bolder ps-3 pb-2 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Proposal Voting Info",-1),Ot={class:"fw-bolder ps-3 mt-4"},Pt=a("Voting System: "),St={key:0,style:{color:"#959595"}},It={key:1,style:{color:"#959595"}},Rt={key:2,style:{color:"#959595"}},zt={class:"fw-bolder ps-3 mt-2"},Bt=a("Voting Strategy: "),Wt={key:0,style:{color:"#959595"}},Lt={key:1,style:{color:"#959595"}},Ht={key:2,style:{color:"#959595"}},jt={key:3,style:{color:"#959595"}},Ft={key:4,style:{color:"#959595"}},Kt={key:5,style:{color:"#959595"}},Ut={key:6,style:{color:"#959595"}},qt={class:"fw-bolder ps-3 mt-2"},Et=a("Threshold: "),Jt={key:0,style:{color:"#959595"}},Yt={key:1,style:{color:"#959595"}},Qt={class:"fw-bolder ps-3 mt-2"},Gt=a("Multiplier: "),Xt={key:0,style:{color:"#959595"}},Zt={key:1,style:{color:"#959595"}},$t={class:"fw-bolder ps-3 mt-2"},te=a("Proposal CID: "),ee={style:{color:"#959595"}},se=t("span",null,[t("img",{src:k,style:{height:"22px"}})],-1),oe={class:"fw-bolder ps-3 mt-2"},le=a("Voting Result CID: "),ie={key:0},re={style:{color:"#959595"}},ne=t("span",null,[t("img",{src:k,style:{height:"22px"}})],-1),de={key:1,style:{color:"#959595"}},ae={class:"fw-bolder ps-3 mt-2"},ce=a("Start: "),pe={style:{color:"#959595"}},_e={class:"fw-bolder ps-3 mt-2"},he=a("End: "),me={style:{color:"#959595"}},ue={class:"fw-bolder ps-3 mt-2"},ve=a("Timezone: "),ye={style:{color:"#959595"}},be={class:"fw-bolder ps-3 mt-2"},fe=a("Duration: "),ge={key:0,style:{color:"#959595"}},we={key:1,style:{color:"#959595"}},xe={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},ke=t("p",{class:"fw-bolder ps-3 pb-2 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Quorum",-1),Ve={class:"fw-bolder ps-3 mt-4"},Ce=a("Threshold: "),Me={key:0,style:{color:"#959595"}},Te={key:1,style:{color:"#959595"}},De={class:"fw-bolder ps-3 mt-2"},Ne=a("Votes required: "),Ae={key:0,style:{color:"#959595"}},Oe={key:1,style:{color:"#959595"}},Pe={key:0,class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Se=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Voting Result",-1),Ie={key:0,class:"text-center"},Re=t("img",{src:f,style:{width:"185px"}},null,-1),ze=[Re],Be={key:1,class:"py-2"},We={class:"fw-bolder ps-3",style:{"font-size":"14px"}},Le={class:"float-end me-4"},He={class:"px-3 mb-4"},je={class:"progress"},Fe={key:2,class:"text-center my-4 py-2"},Ke={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},Ue={key:1},qe={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Ee=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Round 1 Voting Result",-1),Je={key:0,class:"text-center"},Ye=t("img",{src:f,style:{width:"185px"}},null,-1),Qe=[Ye],Ge={key:1,class:"py-2"},Xe={class:"fw-bolder ps-3 mt-4",style:{"font-size":"14px"}},Ze={class:"float-end me-4"},$e={class:"px-3"},ts={class:"progress"},es={key:2,class:"text-center my-4 py-2"},ss={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},os={class:"mt-4 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},ls=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Round 2 Voting Result",-1),is={key:0,class:"text-center fw-bolder",style:{"min-height":"50px"}},rs={key:1},ns={key:0,class:"text-center"},ds=t("img",{src:f,style:{width:"185px"}},null,-1),as=[ds],cs={key:1,class:"py-2"},ps={class:"fw-bolder ps-3 mt-4",style:{"font-size":"14px"}},_s={class:"float-end me-4"},hs={class:"px-3"},ms={class:"progress"},us={key:2,class:"text-center my-4 py-2"},vs={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},ys={class:"modal-dialog",style:{"min-width":"600px"}},bs={class:"modal-content"},fs=t("button",{style:{right:"15px",position:"absolute"},type:"button",class:"close border-0 mt-2 fs-4","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),gs=[fs],ws={class:"modal-body mx-5 px-5 py-4"},xs=t("p",{class:"modal-title mt-4 text-center text-dark fw-bolder",style:{"font-size":"25px"}},"Select your voting option",-1),ks=["onClick"],Vs={class:"fw-bolder"},Cs={key:0,class:"invalid-feedback text-center",style:{display:"block"}},Ms={class:"mt-4"},Ts={key:0},Ds=t("img",{src:I,style:{width:"80%"}},null,-1),Ns=t("button",{class:"btn btn-danger mt-5",style:{width:"80%"},type:"submit"},"Submit Vote",-1),As=[Ds,Ns],Os={key:1},Ps=t("img",{src:R,style:{width:"80%"}},null,-1),Ss=t("button",{class:"btn btn-danger mt-5",disabled:"",style:{width:"80%"}},"Submit Vote",-1),Is=[Ps,Ss],Rs={class:"modal-dialog",style:{"min-width":"600px"}},zs={class:"modal-content"},Bs=t("button",{style:{right:"15px",position:"absolute"},type:"button",class:"close border-0 mt-2 fs-4","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),Ws=[Bs],Ls={class:"modal-body mx-5 px-3 py-4"},Hs=t("p",{class:"modal-title mt-4 text-center text-dark fw-bolder",style:{"font-size":"25px"}},[t("span",{style:{color:"#dc062b"}},"Danger!"),a(" Are you really sure?")],-1),js=t("p",{class:"mt-3"},[a("The deletion action "),t("span",{class:"fw-bolder"},"CANNOT"),a(" be undone. This will remove the proposal from the townhall and no longer able to view or even vote it. If your proposal is in an active voting status, deletion may also cause the voting records and result fail to store in the IPFS storage tools. Only delete proposals that are wrongly created or confirm to be deleted. ")],-1),Fs={class:"mb-4 mt-2"},Ks=t("label",{for:"title",class:"form-label fs-6"},"Please type in \u201Cconfirm\u201D to confirm your deletion.",-1),Us={key:0,class:"valid-feedback"},qs={key:1,class:"invalid-feedback"},Es=t("button",{class:"btn btn-danger mt-5",type:"submit"},"I understand the consequences. Delete this proposal.",-1);function Js(s,r,p,v,e,n){const m=T("Modal");return o(),l(h,null,[t("div",B,[t("div",W,[t("div",L,[t("button",{type:" ",class:"btn btn-default p-0",onClick:r[0]||(r[0]=(...i)=>n.backToProposalList&&n.backToProposalList(...i))},j),t("button",{type:" ",class:"btn btn-default p-0 float-end",onClick:r[1]||(r[1]=i=>e.deleteModal=!0)},K),t("div",U,[t("div",q,[t("div",E,[t("span",J,[a(d(e.proposal.title)+" ",1),e.proposal.importance?(o(),l("img",Y)):c("",!0)])]),t("span",Q,[a("Broadcast by "+d(e.proposal.creator.name?n.trimmedAccountName(e.proposal.creator.name)+"."+e.proposal.slug:n.trimmedAccountAddress(e.proposal.creator.address))+" ",1),e.proposal.status==1?(o(),l("span",G,"Active")):e.proposal.status==0?(o(),l("span",X,"Expecting")):(o(),l("span",Z,"Complete"))])]),t("div",{innerHTML:n.markdownToHtml,class:y(["mt-4",{"show-less":!e.showMore}])},null,10,$),t("div",tt,[t("button",{onClick:r[2]||(r[2]=i=>e.showMore=!e.showMore),class:"py-1 px-3 text-center fw-bolder my-4",style:{border:"1px solid #959595",color:"#959595","background-color":"#fff","border-radius":"7px"}},[e.showMore?(o(),l("span",et,"Show less...")):(o(),l("span",st,"Show more..."))])]),t("div",ot,[lt,(o(!0),l(h,null,u(e.proposal.discussions,i=>(o(),l("div",it,[t("span",rt,d(n.trimmedProposalDiscussion(i)),1)]))),256))]),t("div",nt,[dt,(o(!0),l(h,null,u(e.proposal.attachments,i=>(o(),l("p",null,[at,t("a",{href:`https://${i}`,class:"ms-2 text-dark",style:{"text-decoration":"none"}},d(i),9,ct)]))),256))]),t("div",pt,[_t,(o(!0),l(h,null,u(e.proposal.options,(i,_)=>(o(),l("div",ht,[t("span",mt,"Candidate "+d(_+1)+" - "+d(i),1)]))),256))]),t("div",ut,[vt,t("div",yt,[e.proposal.shield?(o(),l("div",bt,gt)):(o(!0),l(h,{key:1},u(e.voters,i=>(o(),l("div",wt,[xt,t("p",kt,d(n.trimmedVotersAddress(i._addr)),1),t("p",Vt,d(i.option),1),t("p",Ct,d(n.trimmedBalance(i.balance))+" "+d(i.symbol),1)]))),256)),t("div",{onClick:r[3]||(r[3]=(...i)=>n.voterViewHandler&&n.voterViewHandler(...i)),class:"text-center voter-count-handler"},[e.viewVoterMore?(o(),l("span",Mt,"View less")):(o(),l("span",Tt,"View more"))])])])])]),t("div",Dt,[t("div",Nt,[At,t("p",Ot,[Pt,e.proposal.type==0?(o(),l("span",St,"Single Choice Voting")):c("",!0),e.proposal.type==1?(o(),l("span",It,"Approval Voting")):c("",!0),e.proposal.type==2?(o(),l("span",Rt,"Two Round Voting")):c("",!0)]),t("p",zt,[Bt,e.proposal.strategy=="trc-10"?(o(),l("span",Wt,"TRC-10 Balance")):c("",!0),e.proposal.strategy=="trc-20"?(o(),l("span",Lt,"TRC-20 Balance")):c("",!0),e.proposal.strategy=="trc-721"?(o(),l("span",Ht,"TRC-721 Voting")):c("",!0),e.proposal.strategy=="whitelist"?(o(),l("span",jt,"Whitelist Voting")):c("",!0),e.proposal.strategy=="trc-10-th"?(o(),l("span",Ft,"TRC-10 Balance /w Threshold")):c("",!0),e.proposal.strategy=="trc-20-th"?(o(),l("span",Kt,"TRC-20 Balance /w Threshold")):c("",!0),e.proposal.strategy=="trc-721-multi"?(o(),l("span",Ut,"TRC-721 Voting /w Multiplier")):c("",!0)]),t("p",qt,[Et,e.proposal.threshold==0?(o(),l("span",Jt,"N/A")):(o(),l("span",Yt,d(e.proposal.threshold),1))]),t("p",Qt,[Gt,e.proposal.multiplier==1?(o(),l("span",Xt,"N/A")):(o(),l("span",Zt,d(e.proposal.multiplier),1))]),t("p",$t,[te,t("span",ee,d(n.trimmedProposalCid(e.proposal.cid)),1),se]),t("p",oe,[le,e.proposal.votedCid?(o(),l("span",ie,[t("span",re,d(n.trimmedProposalCid(e.proposal.votedCid)),1),ne])):(o(),l("span",de,"N/A"))]),t("p",ae,[ce,t("span",pe,d(n.getDateAndTimeString(e.proposal.f_start_at)),1)]),t("p",_e,[he,t("span",me,d(n.getDateAndTimeString(e.proposal.f_end_at)),1)]),t("p",ue,[ve,t("span",ye,d(`UTC ${parseInt(e.proposal.timezone.offset)}`),1)]),t("p",be,[fe,e.round==1?(o(),l("span",ge,d(n.getTimeDifference(e.proposal.f_start_at,e.proposal.f_end_at)),1)):(o(),l("span",we,d(n.getTimeDifference(e.proposal.s_start_at,e.proposal.s_end_at)),1))])]),t("div",xe,[ke,t("p",Ve,[Ce,e.proposal.percent==0?(o(),l("span",Me,"N/A")):(o(),l("span",Te,d(e.proposal.percent)+"%",1))]),t("p",De,[Ne,e.proposal.percent==0?(o(),l("span",Ae,"N/A")):(o(),l("span",Oe,d(parseInt(e.proposal.totalToken*e.proposal.percent/100)/100+"K "+e.proposal.tk_symbol),1))])]),e.proposal.type!=2?(o(),l("div",Pe,[Se,e.proposal.shield?(o(),l("div",Ie,ze)):e.proposal.result.length>1?(o(),l("div",Be,[(o(!0),l(h,null,u(e.proposal.result,(i,_)=>(o(),l("div",null,[t("p",We,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(i.option))+" ",1),t("span",Le,d(i.amount/1e3)+"K "+d(i.symbol)+" "+d(n.getProgressWidth(i)),1)]),t("div",He,[t("div",je,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(i)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])):c("",!0),e.proposal.status==1?(o(),l("div",Fe,[e.voted?(o(),l("button",Ke,"Already voted")):(o(),l("button",{key:1,onClick:r[4]||(r[4]=(...i)=>n.viewVoteNowModal&&n.viewVoteNowModal(...i)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):c("",!0)])):(o(),l("div",Ue,[t("div",qe,[Ee,e.proposal.shield?(o(),l("div",Je,Qe)):e.proposal.result?(o(),l("div",Ge,[(o(!0),l(h,null,u(e.proposal.result,(i,_)=>(o(),l("div",null,[t("p",Xe,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(i.option))+" ",1),t("span",Ze,d(i.amount/1e3)+"K "+d(i.symbol)+" "+d(n.getProgressWidth(i)),1)]),t("div",$e,[t("div",ts,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(i)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])):c("",!0),e.proposal.status==1?(o(),l("div",es,[e.voted?(o(),l("button",ss,"Already voted")):(o(),l("button",{key:1,onClick:r[5]||(r[5]=(...i)=>n.viewVoteNowModal&&n.viewVoteNowModal(...i)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):c("",!0)]),t("div",os,[ls,e.round==1?(o(),l("div",is)):(o(),l("div",rs,[e.proposal.shield?(o(),l("div",ns,as)):(o(),l("div",cs,[(o(!0),l(h,null,u(e.proposal.s_result,(i,_)=>(o(),l("div",null,[t("p",ps,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(i.option))+" ",1),t("span",_s,d(i.amount/1e3)+"K "+d(i.symbol)+" "+d(n.getProgressWidth(i)),1)]),t("div",hs,[t("div",ms,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(i)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])),e.proposal.status==1?(o(),l("div",us,[e.voted?(o(),l("button",vs,"Already voted")):(o(),l("button",{key:1,onClick:r[6]||(r[6]=(...i)=>n.viewVoteNowModal&&n.viewVoteNowModal(...i)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):c("",!0)]))])]))])])]),g(m,{modelValue:e.voteNowModal,"onUpdate:modelValue":r[9]||(r[9]=i=>e.voteNowModal=i),close:n.closeModal,style:{"z-index":"9999"}},{default:w(()=>[t("div",ys,[t("div",bs,[t("div",{onClick:r[7]||(r[7]=(...i)=>n.closeModal&&n.closeModal(...i))},gs),t("div",ws,[xs,t("form",{onSubmit:r[8]||(r[8]=x((...i)=>n.validateVoteNow&&n.validateVoteNow(...i),["prevent"])),class:"my-3 p-2 text-center"},[t("div",{class:y({"superwarden-invalid":e.validation.invalid.voteOptions})},[(o(!0),l(h,null,u(e.proposal.options,(i,_)=>(o(),l("div",{onClick:Ys=>n.setOption(i),class:y([e.voteOptions.includes(i)?"selected":"","file-details-modal my-3 mx-1"])},[t("span",Vs,"Candidate "+d(_+1)+" - "+d(i),1)],10,ks))),256))],2),e.validation.invalid.voteOptions?(o(),l("div",Cs,d(e.validation.invalid.voteOptions),1)):c("",!0),t("div",Ms,[e.votable?(o(),l("div",Ts,As)):(o(),l("div",Os,Is))])],32)])])])]),_:1},8,["modelValue","close"]),g(m,{modelValue:e.deleteModal,"onUpdate:modelValue":r[14]||(r[14]=i=>e.deleteModal=i),close:n.closeDeleteModal,style:{"z-index":"9999"}},{default:w(()=>[t("div",Rs,[t("div",zs,[t("div",{onClick:r[10]||(r[10]=(...i)=>n.closeDeleteModal&&n.closeDeleteModal(...i))},Ws),t("div",Ls,[Hs,js,t("form",{onSubmit:r[13]||(r[13]=x((...i)=>n.validateDeleteModal&&n.validateDeleteModal(...i),["prevent"])),class:"my-3 p-2 text-center"},[t("div",Fs,[Ks,D(t("input",{"onUpdate:modelValue":r[11]||(r[11]=i=>e.deleteConfirm=i),class:y([{"is-valid":e.validation.valid.deleteConfirm,"is-invalid":e.validation.invalid.deleteConfirm},"form-control"]),onFocus:r[12]||(r[12]=i=>n.clearValidation("deleteConfirm")),type:"text",id:"title",autocomplete:"false"},null,34),[[N,e.deleteConfirm]]),e.validation.valid.deleteConfirm?(o(),l("div",Us,d(e.validation.valid.deleteConfirm),1)):c("",!0),e.validation.invalid.deleteConfirm?(o(),l("div",qs,d(e.validation.invalid.deleteConfirm),1)):c("",!0)]),Es],32)])])])]),_:1},8,["modelValue","close"])],64)}var to=M(z,[["render",Js]]);export{to as default};
