import{s as T}from"./default.css_vue&type=style&index=0&src&lang.22d47d20.js";import{_ as x,i as _,r as S,o as a,c as o,a as i,p as h,h as d,n as m,w as v,v as c,t as n,e as P,f as V,g as p,q as f,s as F}from"./vendor.f746383d.js";import{_ as C}from"./upload.cf859253.js";import{_ as u}from"./index.6d91eb1e.js";const O={name:"Setting",components:{Multiselect:T},data(){return{slug:this.$route.params.slug,details:{},role:10,categories:["Media","Social","Entertainment","Protocol","Investment","Collectors","Grant","Art and Culture","Education","Research","Creator","Service"],tempData:{},steps:1,superwarden:"",stepOne:{name:"",categories:null,bio:"",avatar:"",coverPhoto:"",slug:""},bio:"",tempName:"",tempSlug:"",tempAvatar:"",tempCoverPhoto:"",stepTwo:{twitter:"",discord:"",github:"",forum:"",details:"",bannerPhoto:""},filename:"",tempBannerPhoto:"",stepThree:{webThrKey:"",pinataKey:"",pinataSecret:"",private:!1},stepFour:{master:""},stepFive:{warden:""},stepSix:{mtr_status:!1,threshold:{status:!1,tk_symbol:"",tk_addr:"",threshold:""},tcr:{status:!1,tk_symbol:"",tk_addr:""}},validation:{invalid:{},valid:{}}}},watch:{bio(s,e){this.bio&&(String(this.bio).match(/(\w+)/g).length>50?this.bio=e:this.bio=s),this.stepOne.bio=this.bio}},computed:{},created(){this.getTownhallData()},mounted(){},methods:{resetValidation(){this.validation.valid={},this.validation.invalid={}},checkImageURL(s){if(s.startsWith("ipfs://")||s.startsWith("ipns://")||s.startsWith("https://")||s.startsWith("http://")){let e="https://ipfs.io";return s.startsWith("ipfs://")?s.replace("ipfs://",`${e}/ipfs/`):s.startsWith("ipns://")?s.replace("ipns://",`${e}/ipns/`):s}else return null},clearValidation:function(s){this.validation.valid[s]="",this.validation.invalid[s]=""},async validateFirstStep(){let s=0;if(this.tempName!=this.details.name)if(this.tempName){if((await _.get("http://localhost:5000/api/v1/search/townhallName?s="+this.tempName)).data.count>0){this.validation.invalid.name="This name is already taken.";return}this.validation.valid.name="The name of townhall is valid"}else{this.validation.invalid.name="Please type the name of your townhall.";return}else s+=1;if(this.stepOne.categories!=this.details.categories)if(this.stepOne.categories.length<2){this.validation.invalid.categories="Choose 2 categories that best describe your townhall";return}else this.validation.valid.categories="The category of townhall is valid";else s+=1;if(this.stepOne.bio!=this.details.bio)if(this.stepOne.bio)this.validation.valid.bio="The bio of townhall is valid";else{this.validation.invalid.bio="Please type the bio of your townhall.";return}else s+=1;if(this.tempAvatar!=this.details.avatar)if(this.tempAvatar){let e=await this.checkImageURL(this.tempAvatar);if(!e){this.validation.invalid.avatar="An invalid avatar url";return}this.stepOne.avatar=e,this.validation.valid.avatar="The url of avatar is valid"}else{this.validation.invalid.avatar="Please type the url of your townhall avatar.";return}else s+=1;if(this.tempCoverPhoto!=this.details.coverPhoto)if(this.tempCoverPhoto){let e=await this.checkImageURL(this.tempCoverPhoto);if(!e){this.validation.invalid.coverPhoto="An invalid avatar url";return}this.stepOne.coverPhoto=e,this.validation.valid.coverPhoto="The url of cover photo is valid"}else{this.validation.invalid.coverPhoto="Please type the url of your cover photo.";return}else s+=1;if(this.tempSlug+".tron"!=this.details.slug)if(console.log(this.tempSlug+".tron"),this.tempSlug){let e=this.tempSlug+".tron";if((await _.get("http://localhost:5000/api/v1/search/slugName?s="+e)).data.count>0){this.validation.invalid.slug="This slug is already taken.";return}this.validation.valid.slug="The slug of your townhall is valid"}else{this.validation.invalid.slug="Please type the slug of your townhall.";return}else s+=1;if(s==6){this.$toast.error("Nothing to update.");return}Object.assign(this.details,this.stepOne),this.updateTownHall(this.details),this.resetValidation()},async validateSecondStep(){let s=0;if(this.stepTwo.github!=this.details.github)if(this.stepTwo.twitter)this.validation.valid.twitter="The url of your twitter is added.";else{this.validation.invalid.twitter="Please type the url of your twitter.";return}else s+=1;if(this.stepTwo.discord!=this.details.discord)if(this.stepTwo.discord)this.validation.valid.discord="The url of your discord is added.";else{this.validation.invalid.discord="Please type the url of your discord.";return}else s+=1;if(this.stepTwo.github!=this.details.github)if(this.stepTwo.github)this.validation.valid.github="The url of your github is added.";else{this.validation.invalid.github="Please type the url of your github.";return}else s+=1;if(this.stepTwo.forum!=this.details.forum)if(this.stepTwo.forum)this.validation.valid.forum="The url of your forum is added.";else{this.validation.invalid.forum="Please type the url of your forum.";return}else s+=1;if(this.stepTwo.details!=this.details.details)if(this.stepTwo.details)this.validation.valid.details="The md file is loaded.";else{this.validation.invalid.details="Please insert md file for details.";return}else s+=1;if(this.tempBannerPhoto!=this.details.bannerPhoto)if(this.tempBannerPhoto){let e=await this.checkImageURL(this.tempBannerPhoto);if(!e){this.validation.invalid.bannerPhoto="An invalid avatar url";return}this.stepTwo.bannerPhoto=e,this.validation.valid.bannerPhoto="The url of banner photo is valid"}else{this.validation.invalid.bannerPhoto="Please type the url of your cover photo.";return}else s+=1;if(s==6){this.$toast.error("Nothing to update.");return}Object.assign(this.details,this.stepTwo),this.updateTownHall(this.details),this.resetValidation()},validateThirdStep(){let s=0;if(this.stepThree.webThrKey!=this.details.webThrKey)if(this.stepThree.webThrKey)this.validation.valid.webThrKey="The API key of your web3.storage is added.";else{this.validation.invalid.webThrKey="Please type the API key of your web3.storage.";return}else s+=1;if(this.stepThree.pinataKey==this.details.pinataKey&&(s+=1),this.stepThree.pinataSecret==this.details.pinataSecret&&(s+=1),this.stepThree.private==this.details.private&&(s+=1),s==4){this.$toast.error("Nothing to update.");return}Object.assign(this.details,this.stepThree),this.updateTownHall(this.details),this.resetValidation()},validateFourthStep(){if(this.stepFour.master==this.details.master){this.$toast.error("Nothing to update.");return}Object.assign(this.details,this.stepFour),this.updateTownHall(this.details),this.resetValidation()},validateFifthStep(){if(this.stepFive.warden==this.details.warden){this.$toast.error("Nothing to update.");return}Object.assign(this.details,this.stepFive),this.updateTownHall(this.details),this.resetValidation()},backToProposalList(){this.$router.push(`/${this.slug}/proposal`)},validateSixthStep(){let s=0;if(this.stepSix.threshold.status==this.details.threshold.status&&(s+=1),this.stepSix.tcr.status==this.details.tcr.status&&(s+=1),this.stepSix.threshold.tk_symbol!=this.details.threshold.tk_symbol)if(this.stepSix.threshold.tk_symbol)this.validation.valid.tk_symbol="The symbol of your threshold is added.";else{this.validation.invalid.tk_symbol="Please type the symbol of your threshold.";return}else s+=1;if(this.stepSix.threshold.tk_addr!=this.details.threshold.tk_addr)if(this.stepSix.threshold.tk_addr)this.validation.valid.tk_addr="The address of your threshold is added.";else{this.validation.invalid.tk_addr="Please type the address of your threshold.";return}else s+=1;if(this.stepSix.threshold.threshold!=this.details.threshold.threshold)if(this.stepSix.threshold.threshold)this.validation.valid.threshold="The threshold of your threshold is added.";else{this.validation.invalid.threshold="Please type the threshold of your threshold.";return}else s+=1;if(this.stepSix.tcr.tk_symbol!=this.details.tcr.tk_symbol)if(this.stepSix.tcr.tk_symbol)this.validation.valid.tcr_tk_symbol="The symbol of your TRC721 is added.";else{this.validation.invalid.tcr_tk_symbol="Please type the symbol of your TRC721.";return}else s+=1;if(this.stepSix.tcr.tk_addr!=this.details.tcr.tk_addr)if(this.stepSix.tcr.tk_addr)this.validation.valid.tcr_tk_addr="The address of your TRC721 is added.";else{this.validation.invalid.tcr_tk_addr="Please type the address of your TRC721.";return}else s+=1;if(s==7){this.$toast.error("Nothing to update.");return}Object.assign(this.details,this.stepSix),this.updateTownHall(this.details),this.resetValidation()},getTownhallData(){api.getTownhallData({slug:this.slug},s=>{s.data.townhall&&(console.log(s.data.townhall),this.details=s.data.townhall.details,this.superwarden=s.data.townhall.superwarden,console.log(this.details),s.data.townhall.superwarden==this.$store.getters._addr?this.role=0:this.details.warden.includes(this.$store.getters.name)||this.details.warden.includes(this.$store.getters._addr)?(this.role=1,this.steps=4):this.details.master.includes(this.$store.getters.name)||this.details.master.includes(this.$store.getters._addr)?(this.role=2,this.steps=0):(this.role=3,this.steps=0),this.stepOne.name=s.data.townhall.details.name,this.tempName=s.data.townhall.details.name,this.stepOne.categories=s.data.townhall.details.categories,this.stepOne.bio=s.data.townhall.details.bio,this.bio=s.data.townhall.details.bio,this.stepOne.avatar=s.data.townhall.details.avatar,this.tempAvatar=s.data.townhall.details.avatar,this.stepOne.coverPhoto=s.data.townhall.details.coverPhoto,this.tempCoverPhoto=s.data.townhall.details.coverPhoto,this.stepOne.slug=s.data.townhall.details.slug,this.tempSlug=s.data.townhall.details.slug,this.tempSlug=s.data.townhall.details.slug.substring(0,s.data.townhall.details.slug.length-5),this.stepTwo.bannerPhoto=s.data.townhall.details.bannerPhoto,this.tempBannerPhoto=s.data.townhall.details.bannerPhoto,this.stepTwo.discord=s.data.townhall.details.discord,this.stepTwo.forum=s.data.townhall.details.forum,this.stepTwo.github=s.data.townhall.details.github,this.stepTwo.twitter=s.data.townhall.details.twitter,this.stepTwo.details=s.data.townhall.details.details,s.data.townhall.details.details&&(this.filename="already uploaded"),this.stepThree.pinataKey=s.data.townhall.details.pinataKey,this.stepThree.webThrKey=s.data.townhall.details.webThrKey,this.stepThree.pinataSecret=s.data.townhall.details.pinataSecret,this.stepThree.private=s.data.townhall.details.private,this.stepFour.master=s.data.townhall.details.master,this.stepFive.warden=s.data.townhall.details.warden,this.stepSix.tcr=s.data.townhall.details.tcr,this.stepSix.mtr_status=s.data.townhall.details.mtr_status,this.stepSix.threshold=s.data.townhall.details.threshold)},s=>{console.log(s)})},checkCategoryNumber(){if(console.log(this.stepOne.categories),this.stepOne.categories.length>2){this.stepOne.categories=this.stepOne.categories.slice(0,2);return}},onMarkdownSelected(s){if(console.log(s),typeof s!="undefined"){this.filename=s.target.files[0].name;var e=new FileReader;e.readAsText(s.target.files[0]),e.onloadend=async()=>{this.stepTwo.details=e.result}}},updateStepTownHall(s){s==1?Object.assign(this.details,this.stepOne):s==2?Object.assign(this.details,this.stepTwo):s==3?Object.assign(this.details,this.stepThree):s==4?Object.assign(this.details,this.stepFour):s==5?Object.assign(this.details,this.stepFive):Object.assign(this.details,this.stepSix),this.updateTownHall(this.details)},updateTownHall(s){api.updateTownHall({slug:this.slug,data:s,superwarden:this.superwarden},e=>{this.details=e.data.data.details,this.$toast.success("succeeded to update your townhall.")},e=>{console.log(e)})},setStep(s){this.steps=s},getMyTownhall(){api.getMyTownhall({_addr:this.$store.getters._addr},s=>{this.details=s.data.data.details,this.stepOne.name=s.data.data.details.name,this.stepOne.categories=s.data.data.details.categories,this.stepOne.bio=s.data.data.details.bio,this.stepOne.avatar=s.data.data.details.avatar,this.stepOne.coverPhoto=s.data.data.details.coverPhoto,this.stepOne.slug=s.data.data.details.slug,this.stepTwo.bannerPhoto=s.data.data.details.bannerPhoto,this.stepTwo.discord=s.data.data.details.discord,this.stepTwo.forum=s.data.data.details.forum,this.stepTwo.github=s.data.data.details.github,this.stepTwo.twitter=s.data.data.details.twitter,this.stepTwo.details=s.data.data.details.details,s.data.data.details.details&&(this.filename="already uploaded"),this.stepThree.pinataKey=s.data.data.details.pinataKey,this.stepThree.webThrKey=s.data.data.details.webThrKey,this.stepThree.pinataSecret=s.data.data.details.pinataSecret,this.stepThree.private=s.data.data.details.private,this.stepFour.master=s.data.data.details.master,this.stepFive.warden=s.data.data.details.warden,this.stepSix.tcr=s.data.data.details.tcr,this.stepSix.mtr_status=s.data.data.details.mtr_status,this.stepSix.threshold=s.data.data.details.threshold},s=>{console.log(s)})}}},U={class:"navBar"},A={class:"row",style:{width:"100%"}},N={class:"col-lg-3 col-md-12 border-end"},j={class:"nav flex-column"},K=i("li",{class:"nav-item"},[i("p",{class:"nav-link text-dark fw-bolder my-4 fs-3"},"Settings")],-1),B=i("a",{class:"nav-link disabled"},"Basic Info",-1),M=[B],R=i("a",{class:"nav-link disabled"},"Social Media and Details",-1),I=[R],D=i("a",{class:"nav-link disabled"},"IPFS Settings and Visibility",-1),E=[D],W=i("a",{class:"nav-link disabled"},"Master Role Assignment",-1),H=[W],L=i("a",{class:"nav-link disabled"},"Warden Role Assignment",-1),G=[L],z=i("a",{class:"nav-link disabled"},"Proposal Publishing Permission",-1),Z=[z],J={class:"col-lg-7 px-5 mx-5"},Q=i("b",null,"\u2190 Back",-1),X=[Q],q=i("p",{class:"fw-bolder fs-4"},"Basic Info",-1),Y={class:"mb-3 mt-3"},$=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Name of the townhall",-1),tt={key:0,class:"valid-feedback"},et={key:1,class:"invalid-feedback"},it={class:"mb-3"},st=i("label",{for:"category",class:"form-label fw-bolder fs-6"},"Categories",-1),lt=["onClick"],at=i("span",{class:"multiselect-tag-remove-icon"},null,-1),ot=[at],dt={key:0,class:"valid-feedback"},nt={key:1,class:"invalid-feedback"},rt={class:"mb-3"},ht=i("label",{for:"bio",class:"form-label fw-bolder fs-6"},"Bio",-1),vt={key:0,class:"valid-feedback"},ct={key:1,class:"invalid-feedback"},pt={class:"mb-3 mt-3"},ut=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Avatar (Recommended | 250*250 pixel)",-1),mt={key:0,class:"valid-feedback"},ft={key:1,class:"invalid-feedback"},bt={class:"mb-3 mt-3"},_t=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Cover photo (Recommended | 1920*1080 pixel)",-1),wt={key:0,class:"valid-feedback"},yt={key:1,class:"invalid-feedback"},kt={class:"mb-3 mt-3"},gt=i("label",{for:"slug",class:"form-label fw-bolder fs-6"},"Slug",-1),Tt={class:"input-group"},xt=i("span",{class:"input-group-text fw-bolder"},".tron",-1),St={key:0,class:"valid-feedback",style:{display:"flex"}},Pt={key:1,class:"invalid-feedback",style:{display:"flex"}},Vt=i("button",{class:"btn btn-danger float-end mt-3 px-4",type:"submit"},"Update",-1),Ft=i("p",{class:"fw-bolder fs-4"},"Social Media and Details",-1),Ct={class:"mb-3 mt-3"},Ot=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Twitter",-1),Ut={key:0,class:"valid-feedback"},At={key:1,class:"invalid-feedback"},Nt={class:"mb-3"},jt=i("label",{for:"bio",class:"form-label fw-bolder fs-6"},"Discord",-1),Kt={key:0,class:"valid-feedback"},Bt={key:1,class:"invalid-feedback"},Mt={class:"mb-3 mt-3"},Rt=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Github",-1),It={key:0,class:"valid-feedback"},Dt={key:1,class:"invalid-feedback"},Et={class:"mb-3 mt-3"},Wt=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Website/Forum",-1),Ht={key:0,class:"valid-feedback"},Lt={key:1,class:"invalid-feedback"},Gt={class:"mb-3 mt-3"},zt=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Details (markdown format)",-1),Zt=i("p",{style:{"font-size":"12px"}}," You can upload a more detail introduction of your townhall. This will be displayed in the tonwhall \u2018Details\u2019 section. ",-1),Jt=["value"],Qt=i("span",{class:"input-group-text"},[i("img",{src:C,style:{height:"22px"}})],-1),Xt={key:0,class:"valid-feedback",style:{display:"flex"}},qt={key:1,class:"invalid-feedback",style:{display:"flex"}},Yt={class:"mb-3 mt-3"},$t=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Banner photo for \u2018Details\u2019 (Recommended | 1920*400 pixel)",-1),te={key:0,class:"valid-feedback"},ee={key:1,class:"invalid-feedback"},ie=i("button",{class:"btn btn-danger float-end mt-3 px-4",type:"submit"},"Update",-1),se=i("p",{class:"fw-bolder fs-4"},"IPFS Settings and Visibility",-1),le={class:"mb-3 mt-3"},ae=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Web3.storage API key",-1),oe={key:0,class:"valid-feedback"},de={key:1,class:"invalid-feedback"},ne={class:"mb-3"},re=i("label",{for:"bio",class:"form-label fw-bolder fs-6"},"Pinata API key",-1),he={class:"mb-3 mt-3"},ve=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Pinata API secret",-1),ce={class:"mb-3 mt-3"},pe=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Private townhall?",-1),ue=i("p",{style:{"font-size":"12px"}}," If check, the townhall will not appear in World page. However, it is still accessible via URL link. ( Eg. superwarden.org/mydao.tron ) ",-1),me={class:"form-check form-switch"},fe=i("button",{class:"btn btn-danger float-end mt-3 px-4",type:"submit"},"Update",-1),be=i("p",{class:"fw-bolder fs-4"},"Assign Masters",-1),_e=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Master can only create and publish proposal")],-1),we=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Can only be assigned by superwarden and warden ")],-1),ye=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Can only be removed by superwarden and warden ")],-1),ke=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" You can edit the role assignment anytime")],-1),ge=i("p",{class:"fs-5 fw-bolder mt-5"},"Masters",-1),Te=i("p",{class:"fw-bolder",style:{color:"#959595"}},"Format of assigning:",-1),xe=i("p",{class:"fw-bolder",style:{color:"#959595"}},n("Tronlink wallet address 1 < SPACE > nickname < new line >"),-1),Se=i("p",{class:"fw-bolder",style:{color:"#959595"}},n("Tronlink wallet address 2 < SPACE > nickname < new line >"),-1),Pe=i("p",{class:"fw-bolder",style:{color:"#959595"}},"...",-1),Ve=i("p",{class:"fw-bolder",style:{color:"#959595"}},"*Nickname should be all lowercase and no space allowed",-1),Fe={class:"mb-3 mt-2"},Ce={key:0,class:"valid-feedback"},Oe={key:1,class:"invalid-feedback"},Ue=i("button",{type:"submit",class:"btn btn-danger float-end mt-3 px-4"},"Update",-1),Ae=i("p",{class:"fw-bolder fs-4"},"Assign Wardens",-1),Ne=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Warden can create and publish proposal")],-1),je=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Warden can broadcast announcement ")],-1),Ke=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Can only be assigned and removed by superwarden ")],-1),Be=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" Warden can assign master")],-1),Me=i("p",{class:"fw-bolder",style:{color:"#959595"}},[i("img",{src:u,style:{width:"25px"}}),p(" You can edit the role assignment anytime")],-1),Re=i("p",{class:"fs-5 fw-bolder mt-5"},"Wardens",-1),Ie=i("p",{class:"fw-bolder",style:{color:"#959595"}},"Format of assigning:",-1),De=i("p",{class:"fw-bolder",style:{color:"#959595"}},n("Tronlink wallet address 1 < SPACE > nickname < new line >"),-1),Ee=i("p",{class:"fw-bolder",style:{color:"#959595"}},n("Tronlink wallet address 2 < SPACE > nickname < new line >"),-1),We=i("p",{class:"fw-bolder",style:{color:"#959595"}},"...",-1),He=i("p",{class:"fw-bolder",style:{color:"#959595"}},"*Nickname should be all lowercase and no space allowed",-1),Le={class:"mb-3 mt-2"},Ge={key:0,class:"valid-feedback"},ze={key:1,class:"invalid-feedback"},Ze=i("button",{type:"submit",class:"btn btn-danger float-end mt-3 px-4"},"Update",-1),Je=F('<p class="fw-bolder fs-4">Proposal Publishing Permission</p><div class="form-check mt-3 mb-3"><input class="form-check-input" type="checkbox" checked disabled id="flexCheckDefault"><label class="form-check-label fw-bolder fs-6" for="flexCheckDefault" style="font-weight:bold;"> Allow masters to create and publish proposal </label><p class="fw-bolder" style="color:#959595;font-size:14px;">This is the default proposal publishing permission and can be unticked. If the following two options are not chosen, this rule will apply automatically.</p></div>',2),Qe={class:"form-check mt-3 mb-3"},Xe=i("label",{class:"form-check-label fw-bolder fs-6",for:"flexCheckDefault",style:{"font-weight":"bold"}}," Anyone who exceeds the token threshold ",-1),qe=i("p",{class:"fw-bolder",style:{color:"#959595","font-size":"14px"}},"If the token held by the user exceeds the token threshold set, he/she has the proposal publishing permission. ",-1),Ye={class:"mb-3 mt-3"},$e=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Token symbol",-1),ti={key:0,class:"valid-feedback"},ei={key:1,class:"invalid-feedback"},ii={class:"mb-3 mt-3"},si=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Token address",-1),li={key:0,class:"valid-feedback"},ai={key:1,class:"invalid-feedback"},oi={class:"mb-3 mt-3"},di=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Threshold",-1),ni={key:0,class:"valid-feedback"},ri={key:1,class:"invalid-feedback"},hi={class:"form-check mt-3 mb-3"},vi=i("label",{class:"form-check-label fw-bolder fs-6",for:"flexCheckDefault",style:{"font-weight":"bold"}}," Anyone with a specific TRC721 ",-1),ci=i("p",{class:"fw-bolder",style:{color:"#959595","font-size":"14px"}},"If he user hold a TRC721 token (NFT) of a specific collection, he/she has the proposal publishing permission.",-1),pi={class:"mb-3 mt-3"},ui=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Token symbol",-1),mi={key:0,class:"valid-feedback"},fi={key:1,class:"invalid-feedback"},bi={class:"mb-3 mt-3"},_i=i("label",{for:"name",class:"form-label fw-bolder fs-6"},"Token address",-1),wi={key:0,class:"valid-feedback"},yi={key:1,class:"invalid-feedback"},ki=i("button",{type:"submit",class:"btn btn-danger float-end mt-3 px-4"},"Update",-1);function gi(s,e,w,Ti,t,r){const y=S("Multiselect");return a(),o("div",U,[i("div",A,[i("div",N,[i("ul",j,[K,t.role==0?(a(),o("li",{key:0,onClick:e[0]||(e[0]=l=>r.setStep(1)),class:h([t.steps==1?"navbar-active":"","nav-item"])},M,2)):d("",!0),t.role==0?(a(),o("li",{key:1,onClick:e[1]||(e[1]=l=>r.setStep(2)),class:h([t.steps==2?"navbar-active":"","nav-item"])},I,2)):d("",!0),t.role==0?(a(),o("li",{key:2,onClick:e[2]||(e[2]=l=>r.setStep(3)),class:h([t.steps==3?"navbar-active":"","nav-item"])},E,2)):d("",!0),t.role<2?(a(),o("li",{key:3,onClick:e[3]||(e[3]=l=>r.setStep(4)),class:h([t.steps==4?"navbar-active":"","nav-item"])},H,2)):d("",!0),t.role==0?(a(),o("li",{key:4,onClick:e[4]||(e[4]=l=>r.setStep(5)),class:h([t.steps==5?"navbar-active":"","nav-item"])},G,2)):d("",!0),t.role==0?(a(),o("li",{key:5,onClick:e[5]||(e[5]=l=>r.setStep(6)),class:h([t.steps==6?"navbar-active":"","nav-item"])},Z,2)):d("",!0)])]),i("div",J,[i("button",{type:" ",class:"btn btn-default p-0 my-5",onClick:e[6]||(e[6]=(...l)=>r.backToProposalList&&r.backToProposalList(...l))},X),t.steps==1?(a(),o("form",{key:0,onSubmit:e[19]||(e[19]=m((...l)=>r.validateFirstStep&&r.validateFirstStep(...l),["prevent"])),autocomplete:"off"},[q,i("div",Y,[$,v(i("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>t.tempName=l),class:h([{"is-valid":t.validation.valid.name,"is-invalid":t.validation.invalid.name},"form-control"]),onFocus:e[8]||(e[8]=l=>r.clearValidation("name")),type:"text"},null,34),[[c,t.tempName]]),t.validation.valid.name?(a(),o("div",tt,n(t.validation.valid.name),1)):d("",!0),t.validation.invalid.name?(a(),o("div",et,n(t.validation.invalid.name),1)):d("",!0)]),i("div",it,[st,P(y,{modelValue:t.stepOne.categories,"onUpdate:modelValue":e[9]||(e[9]=l=>t.stepOne.categories=l),options:t.categories,onSelect:r.checkCategoryNumber,onFocus:e[10]||(e[10]=l=>r.clearValidation("categories")),class:h({"is-valid":t.validation.valid.categories,"is-invalid":t.validation.invalid.categories}),placeholder:"Choose 2 categories that best describe your townhall",mode:"tags","track-by":"name",label:"name"},{tag:V(({option:l,handleTagRemove:k,disabled:b})=>[i("div",{class:h(["multiselect-tag is-user",{"is-disabled":b}])},[p(n(l.name)+" ",1),b?d("",!0):(a(),o("span",{key:0,class:"multiselect-tag-remove",onClick:g=>k(l,g)},ot,8,lt))],2)]),_:1},8,["modelValue","options","onSelect","class"]),t.validation.valid.categories?(a(),o("div",dt,n(t.validation.valid.categories),1)):d("",!0),t.validation.invalid.categories?(a(),o("div",nt,n(t.validation.invalid.categories),1)):d("",!0)]),i("div",rt,[ht,v(i("textarea",{"onUpdate:modelValue":e[11]||(e[11]=l=>t.bio=l),class:h([{"is-valid":t.validation.valid.bio,"is-invalid":t.validation.invalid.bio},"form-control"]),onFocus:e[12]||(e[12]=l=>r.clearValidation("bio")),rows:"6",placeholder:"50 word max"},null,34),[[c,t.bio]]),t.validation.valid.bio?(a(),o("div",vt,n(t.validation.valid.bio),1)):d("",!0),t.validation.invalid.bio?(a(),o("div",ct,n(t.validation.invalid.bio),1)):d("",!0)]),i("div",pt,[ut,v(i("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>t.tempAvatar=l),class:h([{"is-valid":t.validation.valid.avatar,"is-invalid":t.validation.invalid.avatar},"form-control"]),onFocus:e[14]||(e[14]=l=>r.clearValidation("avatar")),type:"text",placeholder:"Image link"},null,34),[[c,t.tempAvatar]]),t.validation.valid.avatar?(a(),o("div",mt,n(t.validation.valid.avatar),1)):d("",!0),t.validation.invalid.avatar?(a(),o("div",ft,n(t.validation.invalid.avatar),1)):d("",!0)]),i("div",bt,[_t,v(i("input",{"onUpdate:modelValue":e[15]||(e[15]=l=>t.tempCoverPhoto=l),class:h([{"is-valid":t.validation.valid.coverPhoto,"is-invalid":t.validation.invalid.coverPhoto},"form-control"]),onFocus:e[16]||(e[16]=l=>r.clearValidation("coverPhoto")),type:"text",placeholder:"Image link"},null,34),[[c,t.tempCoverPhoto]]),t.validation.valid.coverPhoto?(a(),o("div",wt,n(t.validation.valid.coverPhoto),1)):d("",!0),t.validation.invalid.coverPhoto?(a(),o("div",yt,n(t.validation.invalid.coverPhoto),1)):d("",!0)]),i("div",kt,[gt,i("div",Tt,[v(i("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>t.tempSlug=l),onFocus:e[18]||(e[18]=l=>r.clearValidation("slug")),type:"text",class:"form-control border-end-0",placeholder:"Eg. superwarden"},null,544),[[c,t.tempSlug]]),xt,t.validation.valid.slug?(a(),o("div",St,n(t.validation.valid.slug),1)):d("",!0),t.validation.invalid.slug?(a(),o("div",Pt,n(t.validation.invalid.slug),1)):d("",!0)])]),Vt],32)):d("",!0),t.steps==2?(a(),o("form",{key:1,onSubmit:e[33]||(e[33]=m((...l)=>r.validateSecondStep&&r.validateSecondStep(...l),["prevent"]))},[Ft,i("div",Ct,[Ot,v(i("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>t.stepTwo.twitter=l),class:h([{"is-valid":t.validation.valid.twitter,"is-invalid":t.validation.invalid.twitter},"form-control"]),onFocus:e[21]||(e[21]=l=>r.clearValidation("twitter")),type:"text",placeholder:"Eg. twitter.com/superwarden"},null,34),[[c,t.stepTwo.twitter]]),t.validation.valid.twitter?(a(),o("div",Ut,n(t.validation.valid.twitter),1)):d("",!0),t.validation.invalid.twitter?(a(),o("div",At,n(t.validation.invalid.twitter),1)):d("",!0)]),i("div",Nt,[jt,v(i("input",{"onUpdate:modelValue":e[22]||(e[22]=l=>t.stepTwo.discord=l),class:h([{"is-valid":t.validation.valid.discord,"is-invalid":t.validation.invalid.discord},"form-control"]),onFocus:e[23]||(e[23]=l=>r.clearValidation("discord")),type:"text",placeholder:"Eg. discord.gg/superwarden"},null,34),[[c,t.stepTwo.discord]]),t.validation.valid.discord?(a(),o("div",Kt,n(t.validation.valid.discord),1)):d("",!0),t.validation.invalid.discord?(a(),o("div",Bt,n(t.validation.invalid.discord),1)):d("",!0)]),i("div",Mt,[Rt,v(i("input",{"onUpdate:modelValue":e[24]||(e[24]=l=>t.stepTwo.github=l),class:h([{"is-valid":t.validation.valid.github,"is-invalid":t.validation.invalid.github},"form-control"]),onFocus:e[25]||(e[25]=l=>r.clearValidation("github")),type:"text",placeholder:"Eg. github.com/superwarden"},null,34),[[c,t.stepTwo.github]]),t.validation.valid.github?(a(),o("div",It,n(t.validation.valid.github),1)):d("",!0),t.validation.invalid.github?(a(),o("div",Dt,n(t.validation.invalid.github),1)):d("",!0)]),i("div",Et,[Wt,v(i("input",{"onUpdate:modelValue":e[26]||(e[26]=l=>t.stepTwo.forum=l),class:h([{"is-valid":t.validation.valid.forum,"is-invalid":t.validation.invalid.forum},"form-control"]),onFocus:e[27]||(e[27]=l=>r.clearValidation("forum")),type:"text"},null,34),[[c,t.stepTwo.forum]]),t.validation.valid.forum?(a(),o("div",Ht,n(t.validation.valid.forum),1)):d("",!0),t.validation.invalid.forum?(a(),o("div",Lt,n(t.validation.invalid.forum),1)):d("",!0)]),i("div",Gt,[zt,Zt,i("input",{type:"file",ref:"markdown",onChange:e[28]||(e[28]=(...l)=>r.onMarkdownSelected&&r.onMarkdownSelected(...l)),accept:".md",style:{display:"none"}},null,544),i("div",{class:"input-group mb-3",onClick:e[30]||(e[30]=m(l=>s.$refs.markdown.click(),["prevent"]))},[i("input",{value:t.filename,onFocus:e[29]||(e[29]=l=>r.clearValidation("details")),type:"text",class:"form-control border-end-0",readonly:"",placeholder:"Upload you markdown file"},null,40,Jt),Qt,t.validation.valid.details?(a(),o("div",Xt,n(t.validation.valid.details),1)):d("",!0),t.validation.invalid.details?(a(),o("div",qt,n(t.validation.invalid.details),1)):d("",!0)])]),i("div",Yt,[$t,v(i("input",{"onUpdate:modelValue":e[31]||(e[31]=l=>t.tempBannerPhoto=l),class:h([{"is-valid":t.validation.valid.bannerPhoto,"is-invalid":t.validation.invalid.bannerPhoto},"form-control"]),onFocus:e[32]||(e[32]=l=>r.clearValidation("bannerPhoto")),type:"text",placeholder:"Image link"},null,34),[[c,t.tempBannerPhoto]]),t.validation.valid.bannerPhoto?(a(),o("div",te,n(t.validation.valid.bannerPhoto),1)):d("",!0),t.validation.invalid.bannerPhoto?(a(),o("div",ee,n(t.validation.invalid.bannerPhoto),1)):d("",!0)]),ie],32)):d("",!0),t.steps==3?(a(),o("form",{key:2,onSubmit:e[39]||(e[39]=m((...l)=>r.validateThirdStep&&r.validateThirdStep(...l),["prevent"]))},[se,i("div",le,[ae,v(i("input",{"onUpdate:modelValue":e[34]||(e[34]=l=>t.stepThree.webThrKey=l),class:h([{"is-valid":t.validation.valid.webThrKey,"is-invalid":t.validation.invalid.webThrKey},"form-control"]),onFocus:e[35]||(e[35]=l=>r.clearValidation("webThrKey")),type:"text"},null,34),[[c,t.stepThree.webThrKey]]),t.validation.valid.webThrKey?(a(),o("div",oe,n(t.validation.valid.webThrKey),1)):d("",!0),t.validation.invalid.webThrKey?(a(),o("div",de,n(t.validation.invalid.webThrKey),1)):d("",!0)]),i("div",ne,[re,v(i("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>t.stepThree.pinataKey=l),class:"form-control",type:"text"},null,512),[[c,t.stepThree.pinataKey]])]),i("div",he,[ve,v(i("input",{"onUpdate:modelValue":e[37]||(e[37]=l=>t.stepThree.pinataSecret=l),type:"text",class:"form-control"},null,512),[[c,t.stepThree.pinataSecret]])]),i("div",ce,[pe,ue,i("div",me,[v(i("input",{"onUpdate:modelValue":e[38]||(e[38]=l=>t.stepThree.private=l),class:"form-check-input fs-5",style:{"margin-left":"-40px"},type:"checkbox"},null,512),[[f,t.stepThree.private]])])]),fe],32)):d("",!0),t.steps==4?(a(),o("form",{key:3,onSubmit:e[42]||(e[42]=m((...l)=>r.validateFourthStep&&r.validateFourthStep(...l),["prevent"]))},[be,_e,we,ye,ke,ge,Te,xe,Se,Pe,Ve,i("div",Fe,[v(i("textarea",{"onUpdate:modelValue":e[40]||(e[40]=l=>t.stepFour.master=l),class:h([{"is-valid":t.validation.valid.master,"is-invalid":t.validation.invalid.master},"form-control"]),onFocus:e[41]||(e[41]=l=>r.clearValidation("master")),rows:"6",placeholder:`Eg. \r
TRzQrtxrEJbSbQNwAsgAHkBMxTX47yNmjo jimmy\r
TUjx6w55Nx9G4GjjRNEB4e7w5BUH3WmJTZ johnny\r
TSF2rqLdrrZG7PZkDxtvu6B2PTpofidMAX mary`},null,34),[[c,t.stepFour.master]]),t.validation.valid.master?(a(),o("div",Ce,n(t.validation.valid.master),1)):d("",!0),t.validation.invalid.master?(a(),o("div",Oe,n(t.validation.invalid.master),1)):d("",!0)]),Ue],32)):d("",!0),t.steps==5?(a(),o("form",{key:4,onSubmit:e[45]||(e[45]=m((...l)=>r.validateFifthStep&&r.validateFifthStep(...l),["prevent"]))},[Ae,Ne,je,Ke,Be,Me,Re,Ie,De,Ee,We,He,i("div",Le,[v(i("textarea",{"onUpdate:modelValue":e[43]||(e[43]=l=>t.stepFive.warden=l),class:h([{"is-valid":t.validation.valid.warden,"is-invalid":t.validation.invalid.warden},"form-control"]),onFocus:e[44]||(e[44]=l=>r.clearValidation("warden")),rows:"6",placeholder:`Eg. \r
TRzQrtxrEJbSbQNwAsgAHkBMxTX47yNmjo jimmy\r
TUjx6w55Nx9G4GjjRNEB4e7w5BUH3WmJTZ johnny\r
TSF2rqLdrrZG7PZkDxtvu6B2PTpofidMAX mary`},null,34),[[c,t.stepFive.warden]]),t.validation.valid.warden?(a(),o("div",Ge,n(t.validation.valid.warden),1)):d("",!0),t.validation.invalid.warden?(a(),o("div",ze,n(t.validation.invalid.warden),1)):d("",!0)]),Ze],32)):d("",!0),t.steps==6?(a(),o("form",{key:5,onSubmit:e[58]||(e[58]=m((...l)=>r.validateSixthStep&&r.validateSixthStep(...l),["prevent"]))},[Je,i("div",Qe,[v(i("input",{"onUpdate:modelValue":e[46]||(e[46]=l=>t.stepSix.threshold.status=l),class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"},null,512),[[f,t.stepSix.threshold.status]]),Xe,qe,i("div",Ye,[$e,v(i("input",{"onUpdate:modelValue":e[47]||(e[47]=l=>t.stepSix.threshold.tk_symbol=l),class:h([{"is-valid":t.validation.valid.tk_symbol,"is-invalid":t.validation.invalid.tk_symbol},"form-control"]),onFocus:e[48]||(e[48]=l=>r.clearValidation("tk_symbol")),type:"text"},null,34),[[c,t.stepSix.threshold.tk_symbol]]),t.validation.valid.tk_symbol?(a(),o("div",ti,n(t.validation.valid.tk_symbol),1)):d("",!0),t.validation.invalid.tk_symbol?(a(),o("div",ei,n(t.validation.invalid.tk_symbol),1)):d("",!0)]),i("div",ii,[si,v(i("input",{"onUpdate:modelValue":e[49]||(e[49]=l=>t.stepSix.threshold.tk_addr=l),class:h([{"is-valid":t.validation.valid.tk_addr,"is-invalid":t.validation.invalid.tk_addr},"form-control"]),onFocus:e[50]||(e[50]=l=>r.clearValidation("tk_addr")),type:"text"},null,34),[[c,t.stepSix.threshold.tk_addr]]),t.validation.valid.tk_addr?(a(),o("div",li,n(t.validation.valid.tk_addr),1)):d("",!0),t.validation.invalid.tk_addr?(a(),o("div",ai,n(t.validation.invalid.tk_addr),1)):d("",!0)]),i("div",oi,[di,v(i("input",{"onUpdate:modelValue":e[51]||(e[51]=l=>t.stepSix.threshold.threshold=l),class:h([{"is-valid":t.validation.valid.threshold,"is-invalid":t.validation.invalid.threshold},"form-control"]),onFocus:e[52]||(e[52]=l=>r.clearValidation("threshold")),type:"number"},null,34),[[c,t.stepSix.threshold.threshold]]),t.validation.valid.threshold?(a(),o("div",ni,n(t.validation.valid.threshold),1)):d("",!0),t.validation.invalid.threshold?(a(),o("div",ri,n(t.validation.invalid.threshold),1)):d("",!0)])]),i("div",hi,[v(i("input",{"onUpdate:modelValue":e[53]||(e[53]=l=>t.stepSix.tcr.status=l),class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault"},null,512),[[f,t.stepSix.tcr.status]]),vi,ci,i("div",pi,[ui,v(i("input",{"onUpdate:modelValue":e[54]||(e[54]=l=>t.stepSix.tcr.tk_symbol=l),class:h([{"is-valid":t.validation.valid.tcr_tk_symbol,"is-invalid":t.validation.invalid.tcr_tk_symbol},"form-control"]),onFocus:e[55]||(e[55]=l=>r.clearValidation("tcr_tk_symbol")),type:"text"},null,34),[[c,t.stepSix.tcr.tk_symbol]]),t.validation.valid.tcr_tk_symbol?(a(),o("div",mi,n(t.validation.valid.tcr_tk_symbol),1)):d("",!0),t.validation.invalid.tcr_tk_symbol?(a(),o("div",fi,n(t.validation.invalid.tcr_tk_symbol),1)):d("",!0)]),i("div",bi,[_i,v(i("input",{"onUpdate:modelValue":e[56]||(e[56]=l=>t.stepSix.tcr.tk_addr=l),class:h([{"is-valid":t.validation.valid.tcr_tk_addr,"is-invalid":t.validation.invalid.tcr_tk_addr},"form-control"]),onFocus:e[57]||(e[57]=l=>r.clearValidation("tcr_tk_addr")),type:"text"},null,34),[[c,t.stepSix.tcr.tk_addr]]),t.validation.valid.tcr_tk_addr?(a(),o("div",wi,n(t.validation.valid.tcr_tk_addr),1)):d("",!0),t.validation.invalid.tcr_tk_addr?(a(),o("div",yi,n(t.validation.invalid.tcr_tk_addr),1)):d("",!0)])]),ki],32)):d("",!0)])])])}var Fi=x(O,[["render",gi]]);export{Fi as default};
