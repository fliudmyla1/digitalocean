import"./moment.9709ab41.js";import{m as V}from"./marked.esm.c06bdf4e.js";import{_ as C,r as M,o as s,c as o,a as t,t as d,g as a,p as y,F as m,d as v,h as p,V as b,e as g,f as w,n as x,w as T,v as D}from"./vendor.f746383d.js";import{_ as N,a as O}from"./file-icon.6ed0468b.js";import{a as P,_ as k}from"./logo-icon.0b863f9a.js";var A="/assets/voter-security.fdeabab1.png",f="/assets/security.4b5362e4.png",S="/assets/vote-able.143e2c28.png",I="/assets/vote-unable.c1f6cedb.png";const R={name:"ProposalDetail",data(){return{idx:this.$route.params.id,round:1,voters:[],totalVoters:[],result:[],totalVotes:0,showMore:!1,proposal:{creator:{},cid:"",votedCid:"",f_start_at:"",f_end_at:"",timezone:{},discussions:[""]},voteNowModal:!1,votable:!1,voteOptions:[],validation:{invalid:{},valid:{}},viewVoterMore:!1,voted:!1,deleteConfirm:"",deleteModal:!1}},computed:{markdownToHtml(){if(this.proposal.summary)return V.parse(this.proposal.summary.toString())}},created(){this.getProposalData()},mounted(){},methods:{trimmedVotingOption(i){return i.length>5?i.slice(0,5)+"...":i},trimmedBalance(i){return(i/1e3).toString()+"K"},trimmedVotersAddress(i){return i.slice(0,7)+"..."},trimmedProposalCid(i){return i.length>10?i.slice(0,8)+"...":i},trimmedAccountNameAndLowercase(i){let r=i.replace(/[, ]+/g,"").trim().toLowerCase();return r.length>12?r.slice(0,9)+"..."+r.slice(r.length-4,r.length):r},trimmedAnnounceTitle(i){return i.length>38?i.slice(0,40)+"...":i},trimmedAnnounceSummary(i){return i.length>334?i.slice(0,334)+"...":i},trimmedDiscussionTitle(i){return i.length>75?i.slice(0,75)+"...":i},getProgressWidth(i){let r=0;return(this.round=1)?this.proposal.result.map(c=>{r+=c.amount}):this.proposal.s_result.map(c=>{r+=c.amount}),parseInt(i.amount/r*100)+"%"},closeDeleteModal(){this.deleteModal=!1,this.deleteConfirm="",this.clearValidation("deleteConfirm")},closeModal(){this.voteNowModal=!1,this.voteOptions=[],this.clearValidation("voteOptions")},validateDeleteModal(){if(this.deleteConfirm!="confirm"){this.validation.invalid.deleteConfirm="Please fill out this input correctly.";return}api.deleteProposal({_id:this.proposal._id},i=>{i&&(this.deleteModal=!1,this.$toast.success("You deleted the proposal."),this.backToProposalList())},i=>{console.log(i)})},voterViewHandler(){this.proposal.shield||(this.viewVoterMore=!this.viewVoterMore,this.viewVoterMore?this.voters=this.totalVoters:this.voters=this.totalVoters.slice(0,7))},clearValidation:function(i){this.validation.valid[i]="",this.validation.invalid[i]=""},getDateAndTimeString(i){const r=["January","February","March","April","May","June","July","August","September","October","November","December"];let c=i.slice(0,4),h=i.slice(5,7);h=r[parseInt(h)-1];let e=i.slice(8,10),n=i.slice(11,13),u="AM";if(parseInt(n)>12){let _=parseInt(n)-12;_>10?n=_.toString():n="0"+_.string,u="PM"}let l=i.slice(14,16);return`${e} ${h}, ${c}, ${n}.${l} ${u}`},getTimeDifference(i,r){let c=new Date(i),e=new Date(r).getTime()-c.getTime(),n=parseInt(e/(1e3*3600*24)),u=parseInt((e-n*1e3*3600*24)/(1e3*3600)),l=parseInt((e-n*1e3*3600*24-u*1e3*3600)/(1e3*60));return`${n} days ${u} hours ${l} minutes`},backToProposalList(){this.$router.push(`/${this.proposal.slug}/proposal`)},async viewVoteNowModal(){const i="TKWsxjh97sCPipTAfghW7vDFdx2HhjecCe",c=await(await tronWeb.contract().at(i)).methods.balanceOf(window.tronWeb.defaultAddress.base58).call();let h=parseInt(c.toString());h=1200,console.log("Client wallet balance: "+h),console.log("DB: the threshold of proposal"),console.log(this.proposal.threshold),this.balance=h,h>this.proposal.threshold?this.votable=!0:this.votable=!1,this.voteNowModal=!0},setOption(i){this.proposal.type==1?this.voteOptions.includes(i)?this.voteOptions=this.voteOptions.filter(r=>r!=i):this.voteOptions.push(i):(this.voteOptions=[],this.voteOptions.push(i)),this.clearValidation("voteOptions")},validateVoteNow(){if(this.voteOptions.length>0)this.validation.valid.voteOptions="The voteOption is added.";else{this.validation.invalid.voteOptions="Please select your vote option.";return}let i=[];this.voteOptions.map(r=>{let c={};c.symbol=this.proposal.tk_symbol,c.option=r,c._addr=this.$store.getters._addr,c.balance=parseInt(this.balance/this.voteOptions.length),i.push(c)}),api.sendVote({_id:this.proposal._id,data:i},r=>{r.data.updated&&(this.$toast.success("You successfully voted"),this.voteNowModal=!1,this.getProposalData())},r=>{console.log(r)})},getProposalData(){api.getProposalData({_id:this.idx},i=>{this.proposal=i.data.proposal,this.proposal.s_start_at?this.round=2:this.round=1,this.proposal.whitelist?this.proposal.whitelist.includes(this.$store.getters._addr)||(this.voted=!0):this.round==1?(this.totalVoters=i.data.proposal.voters,this.proposal.voters.map(r=>{r._addr==this.$store.getters._addr&&(this.voted=!0)})):(this.totalVoters=i.data.proposal.s_voters,this.proposal.s_voters.map(r=>{r._addr==this.$store.getters._addr&&(this.voted=!0)})),this.viewVoterMore=!1,this.voters=this.totalVoters.slice(0,7)},i=>{console.log(i)})}}},z={class:"ms-5 ps-3 py-5 mb-5"},B={class:"row",style:{width:"100%"}},W={class:"col-md-7"},L=t("b",null,"\u2190 Back",-1),j=[L],H=t("img",{src:O,style:{height:"22px"}},null,-1),F=[H],K={class:"px-4 mt-5"},U={class:"block-container-announcement-detail"},E={class:"header mt-3"},J={class:"fw-bolder text-dark fs-2"},q={class:"fw-bolder mt-2"},Y={key:0,class:"status-active ms-2"},Q={key:1,class:"status-complete ms-2"},G={key:2,class:"status-complete ms-2"},X=["innerHTML"],Z={class:"text-center"},$={key:0},tt={key:1},et={class:"my-2"},st=t("p",{class:"fs-5 fw-bolder text-dark"},"Discussions",-1),ot={class:"file-details mb-2"},lt={class:"fw-bolder"},it={class:"mt-4"},rt=t("p",{class:"fs-5 fw-bolder text-dark"},"Attachments",-1),nt=t("img",{src:N,style:{height:"24px"}},null,-1),dt=["href"],at={class:"mt-4"},ct=t("p",{class:"fs-5 fw-bolder text-dark"},"Voting Option",-1),pt={class:"file-details mb-2"},_t={class:"fw-bolder"},ht={class:"mt-4"},mt=t("p",{class:"fs-5 fw-bolder text-dark"},"Voters",-1),ut={style:{"border-radius":"7px",border:"1px solid #959595"}},vt={key:0,class:"text-center py-2",style:{"border-bottom":"1px solid #D5D5D5"}},yt=t("img",{src:A,style:{height:"200px"}},null,-1),bt=[yt],ft={class:"ps-4 fw-bolder voter-container"},gt=t("img",{src:P,style:{height:"20px","border-radius":"50%"}},null,-1),wt={class:"mt-3 ps-2"},xt={class:"mt-3 ps-5"},kt={class:"mt-3 me-2",style:{"margin-left":"auto"}},Vt={key:0,style:{color:"#959595"}},Ct={key:1,style:{color:"#959595"}},Mt={class:"col-md-5 pt-5 pe-5"},Tt={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Dt=t("p",{class:"fw-bolder ps-3 pb-2 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Proposal Voting Info",-1),Nt={class:"fw-bolder ps-3 mt-4"},Ot=a("Voting System: "),Pt={key:0,style:{color:"#959595"}},At={key:1,style:{color:"#959595"}},St={key:2,style:{color:"#959595"}},It={class:"fw-bolder ps-3 mt-2"},Rt=a("Voting Strategy: "),zt={key:0,style:{color:"#959595"}},Bt={key:1,style:{color:"#959595"}},Wt={key:2,style:{color:"#959595"}},Lt={key:3,style:{color:"#959595"}},jt={key:4,style:{color:"#959595"}},Ht={key:5,style:{color:"#959595"}},Ft={key:6,style:{color:"#959595"}},Kt={class:"fw-bolder ps-3 mt-2"},Ut=a("Threshold: "),Et={key:0,style:{color:"#959595"}},Jt={key:1,style:{color:"#959595"}},qt={class:"fw-bolder ps-3 mt-2"},Yt=a("Multiplier: "),Qt={key:0,style:{color:"#959595"}},Gt={key:1,style:{color:"#959595"}},Xt={class:"fw-bolder ps-3 mt-2"},Zt=a("Proposal CID: "),$t={style:{color:"#959595"}},te=t("span",null,[t("img",{src:k,style:{height:"22px"}})],-1),ee={class:"fw-bolder ps-3 mt-2"},se=a("Voting Result CID: "),oe={key:0},le={style:{color:"#959595"}},ie=t("span",null,[t("img",{src:k,style:{height:"22px"}})],-1),re={key:1,style:{color:"#959595"}},ne={class:"fw-bolder ps-3 mt-2"},de=a("Start: "),ae={style:{color:"#959595"}},ce={class:"fw-bolder ps-3 mt-2"},pe=a("End: "),_e={style:{color:"#959595"}},he={class:"fw-bolder ps-3 mt-2"},me=a("Timezone: "),ue={style:{color:"#959595"}},ve={class:"fw-bolder ps-3 mt-2"},ye=a("Duration: "),be={key:0,style:{color:"#959595"}},fe={key:1,style:{color:"#959595"}},ge={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},we=t("p",{class:"fw-bolder ps-3 pb-2 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Quorum",-1),xe={class:"fw-bolder ps-3 mt-4"},ke=a("Threshold: "),Ve={key:0,style:{color:"#959595"}},Ce={key:1,style:{color:"#959595"}},Me={class:"fw-bolder ps-3 mt-2"},Te=a("Votes required: "),De={key:0,style:{color:"#959595"}},Ne={key:1,style:{color:"#959595"}},Oe={key:0,class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Pe=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Voting Result",-1),Ae={key:0,class:"text-center"},Se=t("img",{src:f,style:{width:"185px"}},null,-1),Ie=[Se],Re={key:1,class:"py-2"},ze={class:"fw-bolder ps-3",style:{"font-size":"14px"}},Be={class:"float-end me-4"},We={class:"px-3 mb-4"},Le={class:"progress"},je={key:2,class:"text-center my-4 py-2"},He={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},Fe={key:1},Ke={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Ue=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Round 1 Voting Result",-1),Ee={key:0,class:"text-center"},Je=t("img",{src:f,style:{width:"185px"}},null,-1),qe=[Je],Ye={key:1,class:"py-2"},Qe={class:"fw-bolder ps-3 mt-4",style:{"font-size":"14px"}},Ge={class:"float-end me-4"},Xe={class:"px-3"},Ze={class:"progress"},$e={key:2,class:"text-center my-4 py-2"},ts={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},es={class:"mt-4 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},ss=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Round 2 Voting Result",-1),os={key:0,class:"text-center fw-bolder",style:{"min-height":"50px"}},ls={key:1},is={key:0,class:"text-center"},rs=t("img",{src:f,style:{width:"185px"}},null,-1),ns=[rs],ds={key:1,class:"py-2"},as={class:"fw-bolder ps-3 mt-4",style:{"font-size":"14px"}},cs={class:"float-end me-4"},ps={class:"px-3"},_s={class:"progress"},hs={key:2,class:"text-center my-4 py-2"},ms={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},us={class:"modal-dialog",style:{"min-width":"600px"}},vs={class:"modal-content"},ys=t("button",{style:{right:"15px",position:"absolute"},type:"button",class:"close border-0 mt-2 fs-4","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),bs=[ys],fs={class:"modal-body mx-5 px-5 py-4"},gs=t("p",{class:"modal-title mt-4 text-center text-dark fw-bolder",style:{"font-size":"25px"}},"Select your voting option",-1),ws=["onClick"],xs={class:"fw-bolder"},ks={key:0,class:"invalid-feedback text-center",style:{display:"block"}},Vs={class:"mt-4"},Cs={key:0},Ms=t("img",{src:S,style:{width:"80%"}},null,-1),Ts=t("button",{class:"btn btn-danger mt-5",style:{width:"80%"},type:"submit"},"Submit Vote",-1),Ds=[Ms,Ts],Ns={key:1},Os=t("img",{src:I,style:{width:"80%"}},null,-1),Ps=t("button",{class:"btn btn-danger mt-5",disabled:"",style:{width:"80%"}},"Submit Vote",-1),As=[Os,Ps],Ss={class:"modal-dialog",style:{"min-width":"600px"}},Is={class:"modal-content"},Rs=t("button",{style:{right:"15px",position:"absolute"},type:"button",class:"close border-0 mt-2 fs-4","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),zs=[Rs],Bs={class:"modal-body mx-5 px-3 py-4"},Ws=t("p",{class:"modal-title mt-4 text-center text-dark fw-bolder",style:{"font-size":"25px"}},[t("span",{style:{color:"#dc062b"}},"Danger!"),a(" Are you really sure?")],-1),Ls=t("p",{class:"mt-3"},[a("The deletion action "),t("span",{class:"fw-bolder"},"CANNOT"),a(" be undone. This will remove the proposal from the townhall and no longer able to view or even vote it. If your proposal is in an active voting status, deletion may also cause the voting records and result fail to store in the IPFS storage tools. Only delete proposals that are wrongly created or confirm to be deleted. ")],-1),js={class:"mb-4 mt-2"},Hs=t("label",{for:"title",class:"form-label fs-6"},"Please type in \u201Cconfirm\u201D to confirm your deletion.",-1),Fs={key:0,class:"valid-feedback"},Ks={key:1,class:"invalid-feedback"},Us=t("button",{class:"btn btn-danger mt-5",type:"submit"},"I understand the consequences. Delete this proposal.",-1);function Es(i,r,c,h,e,n){const u=M("Modal");return s(),o(m,null,[t("div",z,[t("div",B,[t("div",W,[t("button",{type:" ",class:"btn btn-default p-0",onClick:r[0]||(r[0]=(...l)=>n.backToProposalList&&n.backToProposalList(...l))},j),t("button",{type:" ",class:"btn btn-default p-0 float-end",onClick:r[1]||(r[1]=l=>e.deleteModal=!0)},F),t("div",K,[t("div",U,[t("div",E,[t("span",J,d(e.proposal.title),1)]),t("span",q,[a("Broadcast by "+d(e.proposal.creator.name?e.proposal.creator.name+"."+e.proposal.slug:e.proposal.creator.address)+" ",1),e.proposal.status==1?(s(),o("span",Y,"Active")):e.proposal.status==0?(s(),o("span",Q,"Expecting")):(s(),o("span",G,"Complete"))])]),t("div",{innerHTML:n.markdownToHtml,class:y(["mt-4",{"show-less":!e.showMore}])},null,10,X),t("div",Z,[t("button",{onClick:r[2]||(r[2]=l=>e.showMore=!e.showMore),class:"py-1 px-3 text-center fw-bolder my-4",style:{border:"1px solid #959595",color:"#959595","background-color":"#fff","border-radius":"7px"}},[e.showMore?(s(),o("span",$,"Show less...")):(s(),o("span",tt,"Show more..."))])]),t("div",et,[st,(s(!0),o(m,null,v(e.proposal.discussions,l=>(s(),o("div",ot,[t("span",lt,d(n.trimmedDiscussionTitle(l)),1)]))),256))]),t("div",it,[rt,(s(!0),o(m,null,v(e.proposal.attachments,l=>(s(),o("p",null,[nt,t("a",{href:`https://${l}`,class:"ms-2 text-dark",style:{"text-decoration":"none"}},d(l),9,dt)]))),256))]),t("div",at,[ct,(s(!0),o(m,null,v(e.proposal.options,(l,_)=>(s(),o("div",pt,[t("span",_t,"Candidate "+d(_+1)+" - "+d(l),1)]))),256))]),t("div",ht,[mt,t("div",ut,[e.proposal.shield?(s(),o("div",vt,bt)):(s(!0),o(m,{key:1},v(e.voters,l=>(s(),o("div",ft,[gt,t("p",wt,d(n.trimmedVotersAddress(l._addr)),1),t("p",xt,d(l.option),1),t("p",kt,d(n.trimmedBalance(l.balance))+" "+d(l.symbol),1)]))),256)),t("div",{onClick:r[3]||(r[3]=(...l)=>n.voterViewHandler&&n.voterViewHandler(...l)),class:"text-center voter-count-handler"},[e.viewVoterMore?(s(),o("span",Vt,"View less")):(s(),o("span",Ct,"View more"))])])])])]),t("div",Mt,[t("div",Tt,[Dt,t("p",Nt,[Ot,e.proposal.type==0?(s(),o("span",Pt,"Single Choice Voting")):p("",!0),e.proposal.type==1?(s(),o("span",At,"Approval Voting")):p("",!0),e.proposal.type==2?(s(),o("span",St,"Two Round Voting")):p("",!0)]),t("p",It,[Rt,e.proposal.strategy=="trc-10"?(s(),o("span",zt,"TRC-10 Balance")):p("",!0),e.proposal.strategy=="trc-20"?(s(),o("span",Bt,"TRC-20 Balance")):p("",!0),e.proposal.strategy=="trc-721"?(s(),o("span",Wt,"TRC-721 Voting")):p("",!0),e.proposal.strategy=="whitelist"?(s(),o("span",Lt,"Whitelist Voting")):p("",!0),e.proposal.strategy=="trc-10-th"?(s(),o("span",jt,"TRC-10 Balance /w Threshold")):p("",!0),e.proposal.strategy=="trc-20-th"?(s(),o("span",Ht,"TRC-20 Balance /w Threshold")):p("",!0),e.proposal.strategy=="trc-721-multi"?(s(),o("span",Ft,"TRC-721 Voting /w Multiplier")):p("",!0)]),t("p",Kt,[Ut,e.proposal.threshold==0?(s(),o("span",Et,"N/A")):(s(),o("span",Jt,d(e.proposal.threshold),1))]),t("p",qt,[Yt,e.proposal.multiplier==1?(s(),o("span",Qt,"N/A")):(s(),o("span",Gt,d(e.proposal.multiplier),1))]),t("p",Xt,[Zt,t("span",$t,d(n.trimmedProposalCid(e.proposal.cid)),1),te]),t("p",ee,[se,e.proposal.votedCid?(s(),o("span",oe,[t("span",le,d(n.trimmedProposalCid(e.proposal.votedCid)),1),ie])):(s(),o("span",re,"N/A"))]),t("p",ne,[de,t("span",ae,d(n.getDateAndTimeString(e.proposal.f_start_at)),1)]),t("p",ce,[pe,t("span",_e,d(n.getDateAndTimeString(e.proposal.f_end_at)),1)]),t("p",he,[me,t("span",ue,d(`UTC ${parseInt(e.proposal.timezone.offset)}`),1)]),t("p",ve,[ye,e.round==1?(s(),o("span",be,d(n.getTimeDifference(e.proposal.f_start_at,e.proposal.f_end_at)),1)):(s(),o("span",fe,d(n.getTimeDifference(e.proposal.s_start_at,e.proposal.s_end_at)),1))])]),t("div",ge,[we,t("p",xe,[ke,e.proposal.percent==0?(s(),o("span",Ve,"N/A")):(s(),o("span",Ce,d(e.proposal.percent)+"%",1))]),t("p",Me,[Te,e.proposal.percent==0?(s(),o("span",De,"N/A")):(s(),o("span",Ne,d(parseInt(e.proposal.totalToken*e.proposal.percent/100)/100+"K "+e.proposal.tk_symbol),1))])]),e.proposal.type!=2?(s(),o("div",Oe,[Pe,e.proposal.shield?(s(),o("div",Ae,Ie)):(s(),o("div",Re,[(s(!0),o(m,null,v(e.proposal.result,(l,_)=>(s(),o("div",null,[t("p",ze,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(l.option))+" ",1),t("span",Be,d(l.amount/1e3)+"K "+d(l.symbol)+" "+d(n.getProgressWidth(l)),1)]),t("div",We,[t("div",Le,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(l)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])),e.proposal.status==1?(s(),o("div",je,[e.voted?(s(),o("button",He,"Already voted")):(s(),o("button",{key:1,onClick:r[4]||(r[4]=(...l)=>n.viewVoteNowModal&&n.viewVoteNowModal(...l)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):p("",!0)])):(s(),o("div",Fe,[t("div",Ke,[Ue,e.proposal.shield?(s(),o("div",Ee,qe)):(s(),o("div",Ye,[(s(!0),o(m,null,v(e.proposal.result,(l,_)=>(s(),o("div",null,[t("p",Qe,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(l.option))+" ",1),t("span",Ge,d(l.amount/1e3)+"K "+d(l.symbol)+" "+d(n.getProgressWidth(l)),1)]),t("div",Xe,[t("div",Ze,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(l)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])),e.proposal.status==1?(s(),o("div",$e,[e.voted?(s(),o("button",ts,"Already voted")):(s(),o("button",{key:1,onClick:r[5]||(r[5]=(...l)=>n.viewVoteNowModal&&n.viewVoteNowModal(...l)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):p("",!0)]),t("div",es,[ss,e.round==1?(s(),o("div",os)):(s(),o("div",ls,[e.proposal.shield?(s(),o("div",is,ns)):(s(),o("div",ds,[(s(!0),o(m,null,v(e.proposal.s_result,(l,_)=>(s(),o("div",null,[t("p",as,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(l.option))+" ",1),t("span",cs,d(l.amount/1e3)+"K "+d(l.symbol)+" "+d(n.getProgressWidth(l)),1)]),t("div",ps,[t("div",_s,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(l)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])),e.proposal.status==1?(s(),o("div",hs,[e.voted?(s(),o("button",ms,"Already voted")):(s(),o("button",{key:1,onClick:r[6]||(r[6]=(...l)=>n.viewVoteNowModal&&n.viewVoteNowModal(...l)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):p("",!0)]))])]))])])]),g(u,{modelValue:e.voteNowModal,"onUpdate:modelValue":r[9]||(r[9]=l=>e.voteNowModal=l),close:n.closeModal,style:{"z-index":"9999"}},{default:w(()=>[t("div",us,[t("div",vs,[t("div",{onClick:r[7]||(r[7]=(...l)=>n.closeModal&&n.closeModal(...l))},bs),t("div",fs,[gs,t("form",{onSubmit:r[8]||(r[8]=x((...l)=>n.validateVoteNow&&n.validateVoteNow(...l),["prevent"])),class:"my-3 p-2 text-center"},[t("div",{class:y({"superwarden-invalid":e.validation.invalid.voteOptions})},[(s(!0),o(m,null,v(e.proposal.options,(l,_)=>(s(),o("div",{onClick:Js=>n.setOption(l),class:y([e.voteOptions.includes(l)?"selected":"","file-details-modal my-3 mx-1"])},[t("span",xs,"Candidate "+d(_+1)+" - "+d(l),1)],10,ws))),256))],2),e.validation.invalid.voteOptions?(s(),o("div",ks,d(e.validation.invalid.voteOptions),1)):p("",!0),t("div",Vs,[e.votable?(s(),o("div",Cs,Ds)):(s(),o("div",Ns,As))])],32)])])])]),_:1},8,["modelValue","close"]),g(u,{modelValue:e.deleteModal,"onUpdate:modelValue":r[14]||(r[14]=l=>e.deleteModal=l),close:n.closeDeleteModal,style:{"z-index":"9999"}},{default:w(()=>[t("div",Ss,[t("div",Is,[t("div",{onClick:r[10]||(r[10]=(...l)=>n.closeDeleteModal&&n.closeDeleteModal(...l))},zs),t("div",Bs,[Ws,Ls,t("form",{onSubmit:r[13]||(r[13]=x((...l)=>n.validateDeleteModal&&n.validateDeleteModal(...l),["prevent"])),class:"my-3 p-2 text-center"},[t("div",js,[Hs,T(t("input",{"onUpdate:modelValue":r[11]||(r[11]=l=>e.deleteConfirm=l),class:y([{"is-valid":e.validation.valid.deleteConfirm,"is-invalid":e.validation.invalid.deleteConfirm},"form-control"]),onFocus:r[12]||(r[12]=l=>n.clearValidation("deleteConfirm")),type:"text",id:"title",autocomplete:"false"},null,34),[[D,e.deleteConfirm]]),e.validation.valid.deleteConfirm?(s(),o("div",Fs,d(e.validation.valid.deleteConfirm),1)):p("",!0),e.validation.invalid.deleteConfirm?(s(),o("div",Ks,d(e.validation.invalid.deleteConfirm),1)):p("",!0)]),Us],32)])])])]),_:1},8,["modelValue","close"])],64)}var Zs=C(R,[["render",Es]]);export{Zs as default};
