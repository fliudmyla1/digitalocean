import"./moment.9709ab41.js";import{m as V}from"./marked.esm.c06bdf4e.js";import{_ as C,r as M,o,c as l,a as t,t as d,g as a,q as y,F as h,d as u,h as c,W as b,e as g,f as w,p as x,w as T,v as D}from"./vendor.395bafa6.js";import{_ as N,a as A}from"./file-icon.6ed0468b.js";import{a as O,_ as k}from"./logo-icon.0b863f9a.js";var P="/assets/voter-security.fdeabab1.png",f="/assets/security.4b5362e4.png",S="/assets/vote-able.143e2c28.png",I="/assets/vote-unable.c1f6cedb.png";const R={name:"ProposalDetail",data(){return{idx:this.$route.params.id,round:1,voters:[],totalVoters:[],result:[],totalVotes:0,showMore:!1,proposal:{creator:{},cid:"",votedCid:"",f_start_at:"",f_end_at:"",timezone:{},discussions:[""],result:[]},voteNowModal:!1,votable:!1,voteOptions:[],validation:{invalid:{},valid:{}},viewVoterMore:!1,voted:!1,deleteConfirm:"",deleteModal:!1}},computed:{markdownToHtml(){if(this.proposal.summary)return V.parse(this.proposal.summary.toString())}},created(){this.$store.getters.role==10?this.$router.push("/"):this.getProposalData()},mounted(){},methods:{trimmedAccountName(s){return s.length>12?s.slice(0,9)+"..."+s.slice(s.length-4,s.length):s},trimmedAccountAddress(s){if(!!s)return s.length>10?s.slice(0,5)+"..."+s.slice(s.length-5,s.length):s},trimmedVotingOption(s){return s.length>5?s.slice(0,5)+"...":s},trimmedBalance(s){return(s/1e3).toString()+"K"},trimmedVotersAddress(s){return s.slice(0,7)+"..."},trimmedProposalCid(s){return s.length>10?s.slice(0,8)+"...":s},trimmedAccountNameAndLowercase(s){let r=s.replace(/[, ]+/g,"").trim().toLowerCase();return r.length>12?r.slice(0,9)+"..."+r.slice(r.length-4,r.length):r},trimmedAnnounceTitle(s){return s.length>38?s.slice(0,40)+"...":s},trimmedAnnounceSummary(s){return s.length>334?s.slice(0,334)+"...":s},trimmedProposalDiscussion(s){if(!!s)return s.length>55?s.slice(0,55)+"...":s},getProgressWidth(s){let r=0;return(this.round=1)?this.proposal.result.map(p=>{r+=p.amount}):this.proposal.s_result.map(p=>{r+=p.amount}),parseInt(s.amount/r*100)+"%"},closeDeleteModal(){this.deleteModal=!1,this.deleteConfirm="",this.clearValidation("deleteConfirm")},closeModal(){this.voteNowModal=!1,this.voteOptions=[],this.clearValidation("voteOptions")},validateDeleteModal(){if(this.deleteConfirm!="confirm"){this.validation.invalid.deleteConfirm="Please fill out this input correctly.";return}api.deleteProposal({_id:this.proposal._id},s=>{s&&(this.deleteModal=!1,this.$toast.success("You deleted the proposal."),this.backToProposalList())},s=>{console.log(s)})},voterViewHandler(){this.proposal.shield||(this.viewVoterMore=!this.viewVoterMore,this.viewVoterMore?this.voters=this.totalVoters:this.voters=this.totalVoters.slice(0,7))},clearValidation:function(s){this.validation.valid[s]="",this.validation.invalid[s]=""},getDateAndTimeString(s){const r=["January","February","March","April","May","June","July","August","September","October","November","December"];let p=s.slice(0,4),v=s.slice(5,7);v=r[parseInt(v)-1];let e=s.slice(8,10),n=s.slice(11,13),m="AM";if(parseInt(n)>12){let _=parseInt(n)-12;_>10?n=_.toString():n="0"+_.string,m="PM"}let i=s.slice(14,16);return`${e} ${v}, ${p}, ${n}.${i} ${m}`},getTimeDifference(s,r){let p=new Date(s),e=new Date(r).getTime()-p.getTime(),n=parseInt(e/(1e3*3600*24)),m=parseInt((e-n*1e3*3600*24)/(1e3*3600)),i=parseInt((e-n*1e3*3600*24-m*1e3*3600)/(1e3*60));return`${n} days ${m} hours ${i} minutes`},backToProposalList(){this.$router.push(`/${this.proposal.slug}/proposal`)},async viewVoteNowModal(){const r=await(await tronWeb.contract().at(this.proposal.ctr_addr)).methods.balanceOf(window.tronWeb.defaultAddress.base58).call();let p=parseInt(r.toString());this.balance=p,p>this.proposal.threshold?this.votable=!0:this.votable=!1,this.voteNowModal=!0},setOption(s){this.proposal.type==1?this.voteOptions.includes(s)?this.voteOptions=this.voteOptions.filter(r=>r!=s):this.voteOptions.push(s):(this.voteOptions=[],this.voteOptions.push(s)),this.clearValidation("voteOptions")},validateVoteNow(){if(this.voteOptions.length>0)this.validation.valid.voteOptions="The voteOption is added.";else{this.validation.invalid.voteOptions="Please select your vote option.";return}let s=[];this.voteOptions.map(r=>{let p={};p.symbol=this.proposal.tk_symbol,p.option=r,p._addr=this.$store.getters._addr,p.balance=parseInt(this.balance/this.voteOptions.length),s.push(p)}),api.sendVote({_id:this.proposal._id,data:s},r=>{r.data.updated&&(this.$toast.success("You successfully voted"),this.voteNowModal=!1,this.getProposalData())},r=>{console.log(r)})},getProposalData(){api.getProposalData({_id:this.idx},s=>{this.proposal=s.data.proposal,console.log(this.proposal),this.proposal.s_start_at?this.round=2:this.round=1,this.proposal.whitelist?this.proposal.whitelist.includes(this.$store.getters._addr)||(this.voted=!0):this.round==1?(this.totalVoters=s.data.proposal.voters,this.proposal.voters.map(r=>{r._addr==this.$store.getters._addr&&(this.voted=!0)})):(this.totalVoters=s.data.proposal.s_voters,this.proposal.s_voters.map(r=>{r._addr==this.$store.getters._addr&&(this.voted=!0)})),this.viewVoterMore=!1,this.voters=this.totalVoters.slice(0,7)},s=>{console.log(s)})}}},z={class:"ms-5 ps-3 py-5 mb-5"},B={class:"row",style:{width:"100%"}},W={class:"col-md-7"},L=t("b",null,"\u2190 Back",-1),H=[L],j=t("img",{src:A,style:{height:"22px"}},null,-1),F=[j],K={class:"px-4 mt-5"},U={class:"block-container-announcement-detail"},q={class:"header mt-3"},E={class:"fw-bolder text-dark fs-2"},J={class:"fw-bolder mt-2"},Y={key:0,class:"status-active ms-2"},Q={key:1,class:"status-complete ms-2"},G={key:2,class:"status-complete ms-2"},X=["innerHTML"],Z={class:"text-center"},$={key:0},tt={key:1},et={class:"my-2"},st=t("p",{class:"fs-5 fw-bolder text-dark"},"Discussions",-1),ot={class:"file-details mb-2"},lt={class:"fw-bolder"},it={class:"mt-4"},rt=t("p",{class:"fs-5 fw-bolder text-dark"},"Attachments",-1),nt=t("img",{src:N,style:{height:"24px"}},null,-1),dt=["href"],at={class:"mt-4"},ct=t("p",{class:"fs-5 fw-bolder text-dark"},"Voting Option",-1),pt={class:"file-details mb-2"},_t={class:"fw-bolder"},ht={class:"mt-4"},mt=t("p",{class:"fs-5 fw-bolder text-dark"},"Voters",-1),ut={style:{"border-radius":"7px",border:"1px solid #959595"}},vt={key:0,class:"text-center py-2",style:{"border-bottom":"1px solid #D5D5D5"}},yt=t("img",{src:P,style:{height:"200px"}},null,-1),bt=[yt],ft={class:"ps-4 fw-bolder voter-container"},gt=t("img",{src:O,style:{height:"20px","border-radius":"50%"}},null,-1),wt={class:"mt-3 ps-2"},xt={class:"mt-3 ps-5"},kt={class:"mt-3 me-2",style:{"margin-left":"auto"}},Vt={key:0,style:{color:"#959595"}},Ct={key:1,style:{color:"#959595"}},Mt={class:"col-md-5 pt-5 pe-5"},Tt={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Dt=t("p",{class:"fw-bolder ps-3 pb-2 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Proposal Voting Info",-1),Nt={class:"fw-bolder ps-3 mt-4"},At=a("Voting System: "),Ot={key:0,style:{color:"#959595"}},Pt={key:1,style:{color:"#959595"}},St={key:2,style:{color:"#959595"}},It={class:"fw-bolder ps-3 mt-2"},Rt=a("Voting Strategy: "),zt={key:0,style:{color:"#959595"}},Bt={key:1,style:{color:"#959595"}},Wt={key:2,style:{color:"#959595"}},Lt={key:3,style:{color:"#959595"}},Ht={key:4,style:{color:"#959595"}},jt={key:5,style:{color:"#959595"}},Ft={key:6,style:{color:"#959595"}},Kt={class:"fw-bolder ps-3 mt-2"},Ut=a("Threshold: "),qt={key:0,style:{color:"#959595"}},Et={key:1,style:{color:"#959595"}},Jt={class:"fw-bolder ps-3 mt-2"},Yt=a("Multiplier: "),Qt={key:0,style:{color:"#959595"}},Gt={key:1,style:{color:"#959595"}},Xt={class:"fw-bolder ps-3 mt-2"},Zt=a("Proposal CID: "),$t={style:{color:"#959595"}},te=t("span",null,[t("img",{src:k,style:{height:"22px"}})],-1),ee={class:"fw-bolder ps-3 mt-2"},se=a("Voting Result CID: "),oe={key:0},le={style:{color:"#959595"}},ie=t("span",null,[t("img",{src:k,style:{height:"22px"}})],-1),re={key:1,style:{color:"#959595"}},ne={class:"fw-bolder ps-3 mt-2"},de=a("Start: "),ae={style:{color:"#959595"}},ce={class:"fw-bolder ps-3 mt-2"},pe=a("End: "),_e={style:{color:"#959595"}},he={class:"fw-bolder ps-3 mt-2"},me=a("Timezone: "),ue={style:{color:"#959595"}},ve={class:"fw-bolder ps-3 mt-2"},ye=a("Duration: "),be={key:0,style:{color:"#959595"}},fe={key:1,style:{color:"#959595"}},ge={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},we=t("p",{class:"fw-bolder ps-3 pb-2 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Quorum",-1),xe={class:"fw-bolder ps-3 mt-4"},ke=a("Threshold: "),Ve={key:0,style:{color:"#959595"}},Ce={key:1,style:{color:"#959595"}},Me={class:"fw-bolder ps-3 mt-2"},Te=a("Votes required: "),De={key:0,style:{color:"#959595"}},Ne={key:1,style:{color:"#959595"}},Ae={key:0,class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Oe=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Voting Result",-1),Pe={key:0,class:"text-center"},Se=t("img",{src:f,style:{width:"185px"}},null,-1),Ie=[Se],Re={key:1,class:"py-2"},ze={class:"fw-bolder ps-3",style:{"font-size":"14px"}},Be={class:"float-end me-4"},We={class:"px-3 mb-4"},Le={class:"progress"},He={key:2,class:"text-center my-4 py-2"},je={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},Fe={key:1},Ke={class:"mt-5 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},Ue=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Round 1 Voting Result",-1),qe={key:0,class:"text-center"},Ee=t("img",{src:f,style:{width:"185px"}},null,-1),Je=[Ee],Ye={key:1,class:"py-2"},Qe={class:"fw-bolder ps-3 mt-4",style:{"font-size":"14px"}},Ge={class:"float-end me-4"},Xe={class:"px-3"},Ze={class:"progress"},$e={key:2,class:"text-center my-4 py-2"},ts={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},es={class:"mt-4 pt-2",style:{border:"1px solid #595959","margin-right":"100px","border-radius":"7px"}},ss=t("p",{class:"fw-bolder ps-3 pb-3 mt-2",style:{"border-bottom":"1px solid #d5d5d5"}},"Round 2 Voting Result",-1),os={key:0,class:"text-center fw-bolder",style:{"min-height":"50px"}},ls={key:1},is={key:0,class:"text-center"},rs=t("img",{src:f,style:{width:"185px"}},null,-1),ns=[rs],ds={key:1,class:"py-2"},as={class:"fw-bolder ps-3 mt-4",style:{"font-size":"14px"}},cs={class:"float-end me-4"},ps={class:"px-3"},_s={class:"progress"},hs={key:2,class:"text-center my-4 py-2"},ms={key:0,class:"btn btn-danger text-center",disabled:"",style:{width:"80%"}},us={class:"modal-dialog",style:{"min-width":"600px"}},vs={class:"modal-content"},ys=t("button",{style:{right:"15px",position:"absolute"},type:"button",class:"close border-0 mt-2 fs-4","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),bs=[ys],fs={class:"modal-body mx-5 px-5 py-4"},gs=t("p",{class:"modal-title mt-4 text-center text-dark fw-bolder",style:{"font-size":"25px"}},"Select your voting option",-1),ws=["onClick"],xs={class:"fw-bolder"},ks={key:0,class:"invalid-feedback text-center",style:{display:"block"}},Vs={class:"mt-4"},Cs={key:0},Ms=t("img",{src:S,style:{width:"80%"}},null,-1),Ts=t("button",{class:"btn btn-danger mt-5",style:{width:"80%"},type:"submit"},"Submit Vote",-1),Ds=[Ms,Ts],Ns={key:1},As=t("img",{src:I,style:{width:"80%"}},null,-1),Os=t("button",{class:"btn btn-danger mt-5",disabled:"",style:{width:"80%"}},"Submit Vote",-1),Ps=[As,Os],Ss={class:"modal-dialog",style:{"min-width":"600px"}},Is={class:"modal-content"},Rs=t("button",{style:{right:"15px",position:"absolute"},type:"button",class:"close border-0 mt-2 fs-4","data-dismiss":"modal","aria-label":"Close"},[t("span",{"aria-hidden":"true"},"\xD7")],-1),zs=[Rs],Bs={class:"modal-body mx-5 px-3 py-4"},Ws=t("p",{class:"modal-title mt-4 text-center text-dark fw-bolder",style:{"font-size":"25px"}},[t("span",{style:{color:"#dc062b"}},"Danger!"),a(" Are you really sure?")],-1),Ls=t("p",{class:"mt-3"},[a("The deletion action "),t("span",{class:"fw-bolder"},"CANNOT"),a(" be undone. This will remove the proposal from the townhall and no longer able to view or even vote it. If your proposal is in an active voting status, deletion may also cause the voting records and result fail to store in the IPFS storage tools. Only delete proposals that are wrongly created or confirm to be deleted. ")],-1),Hs={class:"mb-4 mt-2"},js=t("label",{for:"title",class:"form-label fs-6"},"Please type in \u201Cconfirm\u201D to confirm your deletion.",-1),Fs={key:0,class:"valid-feedback"},Ks={key:1,class:"invalid-feedback"},Us=t("button",{class:"btn btn-danger mt-5",type:"submit"},"I understand the consequences. Delete this proposal.",-1);function qs(s,r,p,v,e,n){const m=M("Modal");return o(),l(h,null,[t("div",z,[t("div",B,[t("div",W,[t("button",{type:" ",class:"btn btn-default p-0",onClick:r[0]||(r[0]=(...i)=>n.backToProposalList&&n.backToProposalList(...i))},H),t("button",{type:" ",class:"btn btn-default p-0 float-end",onClick:r[1]||(r[1]=i=>e.deleteModal=!0)},F),t("div",K,[t("div",U,[t("div",q,[t("span",E,d(e.proposal.title),1)]),t("span",J,[a("Broadcast by "+d(e.proposal.creator.name?n.trimmedAccountName(e.proposal.creator.name)+"."+e.proposal.slug:n.trimmedAccountAddress(e.proposal.creator.address))+" ",1),e.proposal.status==1?(o(),l("span",Y,"Active")):e.proposal.status==0?(o(),l("span",Q,"Expecting")):(o(),l("span",G,"Complete"))])]),t("div",{innerHTML:n.markdownToHtml,class:y(["mt-4",{"show-less":!e.showMore}])},null,10,X),t("div",Z,[t("button",{onClick:r[2]||(r[2]=i=>e.showMore=!e.showMore),class:"py-1 px-3 text-center fw-bolder my-4",style:{border:"1px solid #959595",color:"#959595","background-color":"#fff","border-radius":"7px"}},[e.showMore?(o(),l("span",$,"Show less...")):(o(),l("span",tt,"Show more..."))])]),t("div",et,[st,(o(!0),l(h,null,u(e.proposal.discussions,i=>(o(),l("div",ot,[t("span",lt,d(n.trimmedProposalDiscussion(i)),1)]))),256))]),t("div",it,[rt,(o(!0),l(h,null,u(e.proposal.attachments,i=>(o(),l("p",null,[nt,t("a",{href:`https://${i}`,class:"ms-2 text-dark",style:{"text-decoration":"none"}},d(i),9,dt)]))),256))]),t("div",at,[ct,(o(!0),l(h,null,u(e.proposal.options,(i,_)=>(o(),l("div",pt,[t("span",_t,"Candidate "+d(_+1)+" - "+d(i),1)]))),256))]),t("div",ht,[mt,t("div",ut,[e.proposal.shield?(o(),l("div",vt,bt)):(o(!0),l(h,{key:1},u(e.voters,i=>(o(),l("div",ft,[gt,t("p",wt,d(n.trimmedVotersAddress(i._addr)),1),t("p",xt,d(i.option),1),t("p",kt,d(n.trimmedBalance(i.balance))+" "+d(i.symbol),1)]))),256)),t("div",{onClick:r[3]||(r[3]=(...i)=>n.voterViewHandler&&n.voterViewHandler(...i)),class:"text-center voter-count-handler"},[e.viewVoterMore?(o(),l("span",Vt,"View less")):(o(),l("span",Ct,"View more"))])])])])]),t("div",Mt,[t("div",Tt,[Dt,t("p",Nt,[At,e.proposal.type==0?(o(),l("span",Ot,"Single Choice Voting")):c("",!0),e.proposal.type==1?(o(),l("span",Pt,"Approval Voting")):c("",!0),e.proposal.type==2?(o(),l("span",St,"Two Round Voting")):c("",!0)]),t("p",It,[Rt,e.proposal.strategy=="trc-10"?(o(),l("span",zt,"TRC-10 Balance")):c("",!0),e.proposal.strategy=="trc-20"?(o(),l("span",Bt,"TRC-20 Balance")):c("",!0),e.proposal.strategy=="trc-721"?(o(),l("span",Wt,"TRC-721 Voting")):c("",!0),e.proposal.strategy=="whitelist"?(o(),l("span",Lt,"Whitelist Voting")):c("",!0),e.proposal.strategy=="trc-10-th"?(o(),l("span",Ht,"TRC-10 Balance /w Threshold")):c("",!0),e.proposal.strategy=="trc-20-th"?(o(),l("span",jt,"TRC-20 Balance /w Threshold")):c("",!0),e.proposal.strategy=="trc-721-multi"?(o(),l("span",Ft,"TRC-721 Voting /w Multiplier")):c("",!0)]),t("p",Kt,[Ut,e.proposal.threshold==0?(o(),l("span",qt,"N/A")):(o(),l("span",Et,d(e.proposal.threshold),1))]),t("p",Jt,[Yt,e.proposal.multiplier==1?(o(),l("span",Qt,"N/A")):(o(),l("span",Gt,d(e.proposal.multiplier),1))]),t("p",Xt,[Zt,t("span",$t,d(n.trimmedProposalCid(e.proposal.cid)),1),te]),t("p",ee,[se,e.proposal.votedCid?(o(),l("span",oe,[t("span",le,d(n.trimmedProposalCid(e.proposal.votedCid)),1),ie])):(o(),l("span",re,"N/A"))]),t("p",ne,[de,t("span",ae,d(n.getDateAndTimeString(e.proposal.f_start_at)),1)]),t("p",ce,[pe,t("span",_e,d(n.getDateAndTimeString(e.proposal.f_end_at)),1)]),t("p",he,[me,t("span",ue,d(`UTC ${parseInt(e.proposal.timezone.offset)}`),1)]),t("p",ve,[ye,e.round==1?(o(),l("span",be,d(n.getTimeDifference(e.proposal.f_start_at,e.proposal.f_end_at)),1)):(o(),l("span",fe,d(n.getTimeDifference(e.proposal.s_start_at,e.proposal.s_end_at)),1))])]),t("div",ge,[we,t("p",xe,[ke,e.proposal.percent==0?(o(),l("span",Ve,"N/A")):(o(),l("span",Ce,d(e.proposal.percent)+"%",1))]),t("p",Me,[Te,e.proposal.percent==0?(o(),l("span",De,"N/A")):(o(),l("span",Ne,d(parseInt(e.proposal.totalToken*e.proposal.percent/100)/100+"K "+e.proposal.tk_symbol),1))])]),e.proposal.type!=2?(o(),l("div",Ae,[Oe,e.proposal.shield?(o(),l("div",Pe,Ie)):e.proposal.result.length>1?(o(),l("div",Re,[(o(!0),l(h,null,u(e.proposal.result,(i,_)=>(o(),l("div",null,[t("p",ze,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(i.option))+" ",1),t("span",Be,d(i.amount/1e3)+"K "+d(i.symbol)+" "+d(n.getProgressWidth(i)),1)]),t("div",We,[t("div",Le,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(i)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])):c("",!0),e.proposal.status==1?(o(),l("div",He,[e.voted?(o(),l("button",je,"Already voted")):(o(),l("button",{key:1,onClick:r[4]||(r[4]=(...i)=>n.viewVoteNowModal&&n.viewVoteNowModal(...i)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):c("",!0)])):(o(),l("div",Fe,[t("div",Ke,[Ue,e.proposal.shield?(o(),l("div",qe,Je)):e.proposal.result?(o(),l("div",Ye,[(o(!0),l(h,null,u(e.proposal.result,(i,_)=>(o(),l("div",null,[t("p",Qe,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(i.option))+" ",1),t("span",Ge,d(i.amount/1e3)+"K "+d(i.symbol)+" "+d(n.getProgressWidth(i)),1)]),t("div",Xe,[t("div",Ze,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(i)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])):c("",!0),e.proposal.status==1?(o(),l("div",$e,[e.voted?(o(),l("button",ts,"Already voted")):(o(),l("button",{key:1,onClick:r[5]||(r[5]=(...i)=>n.viewVoteNowModal&&n.viewVoteNowModal(...i)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):c("",!0)]),t("div",es,[ss,e.round==1?(o(),l("div",os)):(o(),l("div",ls,[e.proposal.shield?(o(),l("div",is,ns)):(o(),l("div",ds,[(o(!0),l(h,null,u(e.proposal.s_result,(i,_)=>(o(),l("div",null,[t("p",as,[a("Candidate - "+d(_+1)+" "+d(n.trimmedVotingOption(i.option))+" ",1),t("span",cs,d(i.amount/1e3)+"K "+d(i.symbol)+" "+d(n.getProgressWidth(i)),1)]),t("div",ps,[t("div",_s,[t("div",{class:"progress-bar bg-danger",role:"progressbar",style:b(`width : ${n.getProgressWidth(i)}`),"aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])]))),256))])),e.proposal.status==1?(o(),l("div",hs,[e.voted?(o(),l("button",ms,"Already voted")):(o(),l("button",{key:1,onClick:r[6]||(r[6]=(...i)=>n.viewVoteNowModal&&n.viewVoteNowModal(...i)),class:"btn btn-danger text-center",style:{width:"80%"}},"Vote Now"))])):c("",!0)]))])]))])])]),g(m,{modelValue:e.voteNowModal,"onUpdate:modelValue":r[9]||(r[9]=i=>e.voteNowModal=i),close:n.closeModal,style:{"z-index":"9999"}},{default:w(()=>[t("div",us,[t("div",vs,[t("div",{onClick:r[7]||(r[7]=(...i)=>n.closeModal&&n.closeModal(...i))},bs),t("div",fs,[gs,t("form",{onSubmit:r[8]||(r[8]=x((...i)=>n.validateVoteNow&&n.validateVoteNow(...i),["prevent"])),class:"my-3 p-2 text-center"},[t("div",{class:y({"superwarden-invalid":e.validation.invalid.voteOptions})},[(o(!0),l(h,null,u(e.proposal.options,(i,_)=>(o(),l("div",{onClick:Es=>n.setOption(i),class:y([e.voteOptions.includes(i)?"selected":"","file-details-modal my-3 mx-1"])},[t("span",xs,"Candidate "+d(_+1)+" - "+d(i),1)],10,ws))),256))],2),e.validation.invalid.voteOptions?(o(),l("div",ks,d(e.validation.invalid.voteOptions),1)):c("",!0),t("div",Vs,[e.votable?(o(),l("div",Cs,Ds)):(o(),l("div",Ns,Ps))])],32)])])])]),_:1},8,["modelValue","close"]),g(m,{modelValue:e.deleteModal,"onUpdate:modelValue":r[14]||(r[14]=i=>e.deleteModal=i),close:n.closeDeleteModal,style:{"z-index":"9999"}},{default:w(()=>[t("div",Ss,[t("div",Is,[t("div",{onClick:r[10]||(r[10]=(...i)=>n.closeDeleteModal&&n.closeDeleteModal(...i))},zs),t("div",Bs,[Ws,Ls,t("form",{onSubmit:r[13]||(r[13]=x((...i)=>n.validateDeleteModal&&n.validateDeleteModal(...i),["prevent"])),class:"my-3 p-2 text-center"},[t("div",Hs,[js,T(t("input",{"onUpdate:modelValue":r[11]||(r[11]=i=>e.deleteConfirm=i),class:y([{"is-valid":e.validation.valid.deleteConfirm,"is-invalid":e.validation.invalid.deleteConfirm},"form-control"]),onFocus:r[12]||(r[12]=i=>n.clearValidation("deleteConfirm")),type:"text",id:"title",autocomplete:"false"},null,34),[[D,e.deleteConfirm]]),e.validation.valid.deleteConfirm?(o(),l("div",Fs,d(e.validation.valid.deleteConfirm),1)):c("",!0),e.validation.invalid.deleteConfirm?(o(),l("div",Ks,d(e.validation.invalid.deleteConfirm),1)):c("",!0)]),Us],32)])])])]),_:1},8,["modelValue","close"])],64)}var Zs=C(R,[["render",qs]]);export{Zs as default};
